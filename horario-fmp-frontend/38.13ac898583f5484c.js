"use strict";(self.webpackChunkhorario_fmp_frontend=self.webpackChunkhorario_fmp_frontend||[]).push([[38],{1038:(ht,Z,d)=>{d.r(Z),d.d(Z,{MantenimientoModule:()=>pt});var g=d(6895),_=d(3599),s=d(433),e=d(1571),p=d(262),u=d(2843),c=d(2340),f=d(529);let T=(()=>{class r{constructor(t){this.asignacionService=t,this.url=c.N.urlAPI+"aula/listAula",this.isLoading=!1,this.listUsuario={content:[],pageable:{offset:0,paged:!0,pageNumber:0,pageSize:0,sort:{empty:!0,sorted:!0,unsorted:!0},unpaged:!0},empty:!0,first:!0,last:!0,number:0,numberOfElements:0,size:0,sort:{empty:!0,sorted:!0,unsorted:!0},totalElements:0,totalPages:0}}getPages(t=0,n=10){return this.isLoading=!0,this.asignacionService.get(this.url,{params:{page:t.toString(),size:n.toString()}}).subscribe(o=>{this.listUsuario=o,this.isLoading=!1})}getPagesF(t=0,n=10,o){return this.isLoading=!0,this.asignacionService.get(this.url,{params:{page:t.toString(),size:n.toString()}}).subscribe(i=>{this.listUsuario=""===o?i:{...i,content:i.content.filter(l=>l.codigo.includes(o))},this.isLoading=!1})}Saveaula(t){return this.asignacionService.post(`${c.N.urlAPI}aula/create`,t).pipe((0,p.K)(n=>(0,u._)(409===n.status?n.error.mensaje:"Ocurri\xf3 un error en la solicitud.")))}aulabycode(t){return this.asignacionService.get(`${c.N.urlAPI}aula/getAulaById/`+t)}Updateaula(t,n){return this.asignacionService.put(`${c.N.urlAPI}aula/update/`+n,t).pipe((0,p.K)(o=>(0,u._)(400===o.status?o.error.mensaje:"Ocurri\xf3 un error en la solicitud.")))}Deleteaula(t){return this.asignacionService.delete(`${c.N.urlAPI}aula/delete/`+t).pipe((0,p.K)(n=>(0,u._)(400===n.status?n.error.mensaje:"Ocurri\xf3 un error en la solicitud.")))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(f.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var m=d(9453),b=d(4606),A=d(1622);const S=["modalContent"];function w(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"div",30)(1,"strong"),e._uU(2,"Instrucciones para la gesti\xf3n de Aulas:"),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"small"),e._uU(5,'* Para agregar una nueva Aula haz click en "'),e.TgZ(6,"strong"),e._uU(7,"+ Registrar Nueva Aula"),e.qZA(),e._uU(8,'".'),e.qZA(),e._UZ(9,"br"),e.TgZ(10,"small"),e._uU(11,'* Para editar un Aula haz click en "'),e.TgZ(12,"strong"),e._UZ(13,"i",31),e.qZA(),e._uU(14,'".'),e.qZA(),e._UZ(15,"br"),e.TgZ(16,"small"),e._uU(17,'* Para eliminar un Aula haz click en "'),e.TgZ(18,"strong"),e._UZ(19,"i",32),e.qZA(),e._uU(20,'".'),e.qZA(),e._UZ(21,"br"),e.TgZ(22,"button",33),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.alternHelp())}),e.qZA()()}}function y(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.openModal(0))}),e._uU(1," + Registrar nueva Aula "),e.qZA()}}function D(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"a",37)(1,"i",38),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,i=e.oxw();return e.KtG(i.editaula(o.id))})("click",function(){e.CHM(t);const o=e.oxw().$implicit,i=e.oxw();return e.KtG(i.openModal(o.capacidad))}),e.qZA()()}}function q(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"a",37)(1,"i",39),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,i=e.oxw();return e.KtG(i.eliminar(o.id))}),e.qZA()()}}function U(r,a){if(1&r&&(e.ynx(0),e.TgZ(1,"tr",22)(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td")(9,"div",35),e.YNc(10,D,2,0,"a",36),e.YNc(11,q,2,0,"a",36),e.qZA()()(),e.BQk()),2&r){const t=a.$implicit,n=a.index,o=e.oxw();e.xp6(3),e.Oqu(n+1),e.xp6(2),e.Oqu(t.codigo),e.xp6(2),e.Oqu(t.capacidad),e.xp6(3),e.Q6J("ngIf",o.isEditar||o.isAdmin),e.xp6(1),e.Q6J("ngIf",o.isEliminar||o.isAdmin)}}function P(r,a){if(1&r&&(e.TgZ(0,"tr")(1,"td",40),e._uU(2),e.qZA()()),2&r){const t=e.oxw();e.xp6(2),e.hij(" ",t.isLoading?"Cargando...":"No se encontraron resultados"," ")}}function M(r,a){1&r&&(e.TgZ(0,"div",60),e._uU(1," Solo se permiten letras, n\xfameros y guiones. Con un maximo de 15 caracteres. "),e.qZA())}function k(r,a){1&r&&(e.TgZ(0,"div",60),e._uU(1,"El c\xf3digo es obligatorio."),e.qZA())}function I(r,a){1&r&&(e.TgZ(0,"div",60),e._uU(1," La capacidad no puede exeder los 3 digitos. "),e.qZA())}function N(r,a){1&r&&(e.TgZ(0,"div",60),e._uU(1,"la capacidad es obligatoria."),e.qZA())}function E(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"div",41)(1,"div",42)(2,"div",43)(3,"div",44)(4,"strong"),e._uU(5),e.qZA()()()(),e.TgZ(6,"button",45),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.close(""))}),e.qZA()(),e.TgZ(7,"div",46)(8,"div",47)(9,"small"),e._uU(10,"* Todos los campos son obligatorios."),e.qZA(),e._UZ(11,"button",48),e.qZA(),e.TgZ(12,"form",49),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.submitForm())}),e.TgZ(13,"div",50)(14,"div",51)(15,"div",52)(16,"div",50)(17,"div")(18,"label",53),e._uU(19,"C\xf3digo:"),e.qZA(),e._UZ(20,"input",54),e.YNc(21,M,2,0,"div",55),e.YNc(22,k,2,0,"div",55),e.qZA()()(),e.TgZ(23,"div",52)(24,"div",50)(25,"label",53),e._uU(26,"Capacidad:"),e.qZA(),e._UZ(27,"input",56),e.YNc(28,I,2,0,"div",55),e.YNc(29,N,2,0,"div",55),e.qZA()()(),e._UZ(30,"div",51)(31,"br"),e.TgZ(32,"div",57)(33,"button",58),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.close("Volver"))}),e._uU(34," Volver "),e.qZA(),e.TgZ(35,"button",59),e._uU(36),e.qZA()()()()()}if(2&r){const t=e.oxw();let n,o;e.xp6(5),e.Oqu(t.nombremodal),e.xp6(7),e.Q6J("formGroup",t.formulario),e.xp6(9),e.Q6J("ngIf",null==(n=t.formulario.get("codigo"))?null:n.hasError("pattern")),e.xp6(1),e.Q6J("ngIf",t.isInvalid("codigo")),e.xp6(6),e.Q6J("ngIf",null==(o=t.formulario.get("capacidad"))?null:o.hasError("pattern")),e.xp6(1),e.Q6J("ngIf",t.isInvalid("capacidad")),e.xp6(7),e.hij(" ",t.nombreButtonModal," ")}}let F=(()=>{class r{constructor(t,n,o,i,l){this.aulaServices=t,this.modalService=n,this.fb=o,this.sweetService=i,this.tokenService=l,this.currentPage=1,this.isCrear=!1,this.isEditar=!1,this.isEliminar=!1,this.isAdmin=!1,this.searchText="",this.loanding="",this.showHelp=!0,this.errores={},this.formulario=this.fb.group({codigo:["",[s.kI.required,s.kI.pattern(/^[a-zA-Z0-9 -.]{1,15}$/)]],capacidad:["",[s.kI.required,s.kI.pattern(/^[0-9]{1,3}$/)]]})}submitForm(){this.formulario.valid?""!=this.nombreButtonModal&&"CREAR"==this.nombreButtonModal?(null!=this.formulario.value.codigo&&null!=this.formulario.value.capacidad&&(this.AulaI={codigo:this.formulario.value.codigo,capacidad:parseFloat(this.formulario.value.capacidad)}),this.aulaServices.Saveaula(this.AulaI).subscribe(t=>{this.modalService.dismissAll(),this.aulaServices.getPages(),this.sweetService.showSweetSuccess(t.mensaje)},t=>{this.sweetService.showSweetError(t),this.aulaServices.getPages()})):(null!=this.formulario.value.codigo&&null!=this.formulario.value.capacidad&&(this.AulaUpdate={codigo:this.formulario.value.codigo,capacidad:parseFloat(this.formulario.value.capacidad)}),this.aulaServices.Updateaula(this.AulaUpdate,this.valorIdUnico).subscribe(t=>{this.sweetService.showSweetSuccess(t.mensaje),this.modalService.dismissAll(),this.aulaServices.getPages()},t=>{this.sweetService.showSweetError(t),this.aulaServices.getPages()})):this.formulario.markAllAsTouched()}setpopupdata(t){this.aulaServices.aulabycode(t).subscribe(n=>{this.editdata=n,this.formulario.setValue({codigo:this.editdata.codigo.toString(),capacidad:this.editdata.capacidad.toString()})})}agregarlimpiarModal(){this.formulario.setValue({codigo:"",capacidad:""})}editaula(t){this.setpopupdata(t),this.valorIdUnico=t}ngOnInit(){this.aulaServices.getPages(),this.isAdmin=this.tokenService.isSuperAdmin(),this.isCrear=this.tokenService.isPermisos("AULA_","CREAR"),this.isEditar=this.tokenService.isPermisos("AULA_","EDITAR"),this.isEliminar=this.tokenService.isPermisos("AULA_","ELIMINAR")}get roles(){return this.aulaServices.listUsuario}get isLoading(){return this.aulaServices.isLoading}pageChange(t){this.aulaServices.getPages(t-1,5)}onSearch(){this.aulaServices.getPagesF(0,10,this.searchText)}openModal(t){this.formulario.reset(),0!=t&&(this.nombremodal="Editar Aula",this.nombreButtonModal="EDITAR"),0==t&&(this.nombremodal="Crear nueva Aula",this.nombreButtonModal="CREAR",this.agregarlimpiarModal()),this.modalRef=this.modalService.open(this.modalContent,{centered:!0,size:"lg"})}eliminar(t){this.sweetService.showSweetWarning("AVISO","\xbfEliminar este Docente?").then(n=>{n&&this.aulaServices.Deleteaula(t).subscribe(o=>{this.sweetService.showSweetSuccess(o.mensaje),this.aulaServices.getPages()},o=>{this.sweetService.showSweetError(o)})})}alternHelp(){this.showHelp=!this.showHelp}isInvalid(t){const n=this.formulario.get(t);if(this.errores={},n&&n.touched&&n.invalid){const o={required:"Este campo es obligatorio."};for(const i in n.errors)Object.prototype.hasOwnProperty.call(o,i)&&(this.errores[t]=o[i]);return!0}return!1}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(T),e.Y36(m.FF),e.Y36(s.qu),e.Y36(b.d),e.Y36(A.B))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-aula"]],viewQuery:function(t,n){if(1&t&&e.Gf(S,5),2&t){let o;e.iGM(o=e.CRH())&&(n.modalContent=o.first)}},decls:44,vars:8,consts:[["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/"],["aria-current","page",1,"breadcrumb-item","active"],["class","alert alert-warning alert-dismissible fade show py-2 mb-3 mx-0 on-hover-op-65","role","alert",4,"ngIf"],[1,"card","bg-white","text-secondary","w-100","shadow-custom","mb-5"],[1,"card-header","bg-white","d-flex","justify-content-between","align-items-center"],[1,"d-flex","secondary-text","ps-2"],[1,"fa","fa-question-circle"],[1,"bi","bi-question-circle",2,"cursor","pointer",3,"click"],[1,"card-body"],[1,"row","px-4"],[1,"col-md-3","mb-3","mt-2"],[1,"d-flex","custom-placeholder"],["type","email",1,"form-control","square-border",3,"ngModel","ngModelChange","keyup.enter"],[1,"col-md-6"],[1,"col-md-3","mb-3","pt-2","mt-2"],["type","button","class","btn btn-danger shadow-primary mt-3 w-100 shadow-red",3,"click",4,"ngIf"],[1,"card","shadow"],[1,"table-responsive"],[1,"table"],[1,"text-center"],["sortable","#"],["sortable","titulo"],["sortable","acciones",1,"rounded-r"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"d-flex","justify-content-end","p-2",3,"pageSize","collectionSize","maxSize","pageChange","page"],["modalContent",""],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show","py-2","mb-3","mx-0","on-hover-op-65"],[1,"bi","bi-pencil"],[1,"bi","bi-trash3-fill"],["type","button",1,"btn-close","py-3",3,"click"],["type","button",1,"btn","btn-danger","shadow-primary","mt-3","w-100","shadow-red",3,"click"],[1,"actions-container","d-flex","justify-content-center"],["style","cursor: pointer",4,"ngIf"],[2,"cursor","pointer"],[1,"bi","bi-pencil",3,"click"],[1,"bi","bi-trash",3,"click"],["colspan","6",1,"text-center"],[1,"modal-header","bg-secondary-color","text-white","rounded-sup","card-header","shadow-sm","py-1"],[1,"modal-title"],[1,"d-flex","bd-highlight"],[1,"p-2","w-100","bd-highlight"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show","py-2","mb-0","mx-3"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close","py-2"],[1,"px-4","py-2",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"row"],[1,"col-12","col-sm-12","pt-2"],["for","titulo",1,"text-secondary"],["type","text","id","codigo","name","codigo","placeholder","C\xf3digo.","formControlName","codigo","autocomplete","off",1,"form-control","rounded-3","shadow-sm","custom-placeholder"],["class","text-danger",4,"ngIf"],["type","number","id","titulo","name","titulo","placeholder","Capacidad.","formControlName","capacidad","autocomplete","off",1,"form-control","rounded-3","shadow-sm","custom-placeholder"],[1,"modal-footer","justify-content-between","px-0"],["type","button",1,"btn","btn-outline-secondary","shadow-sm","w-25","m-0",3,"click"],["type","submit",1,"btn","btn-danger","shadow-primary","btn-block","w-25","m-0"],[1,"text-danger"]],template:function(t,n){1&t&&(e.TgZ(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),e._uU(4,"Home"),e.qZA()(),e.TgZ(5,"li",4),e._uU(6,"Aula"),e.qZA()()(),e.YNc(7,w,23,0,"div",5),e.TgZ(8,"div",6)(9,"div",7)(10,"span",8),e._uU(11,"Aula"),e.qZA(),e._UZ(12,"i",9),e.TgZ(13,"i",10),e.NdJ("click",function(){return n.alternHelp()}),e.qZA()(),e.TgZ(14,"div",11)(15,"span",8),e._uU(16,"Filtrar tabla por:"),e.qZA(),e.TgZ(17,"div",12)(18,"div",13)(19,"label",14),e._uU(20,"C\xf3digo Aula:"),e.qZA(),e.TgZ(21,"input",15),e.NdJ("ngModelChange",function(i){return n.searchText=i})("keyup.enter",function(){return n.onSearch()}),e.qZA()(),e._UZ(22,"div",16),e.TgZ(23,"div",17),e.YNc(24,y,2,0,"button",18),e.qZA()()()(),e.TgZ(25,"div",19)(26,"div",20)(27,"table",21)(28,"thead")(29,"tr",22)(30,"th",23),e._uU(31,"#"),e.qZA(),e.TgZ(32,"th",24),e._uU(33,"C\xf3digo"),e.qZA(),e.TgZ(34,"th",24),e._uU(35,"Capacidad"),e.qZA(),e.TgZ(36,"th",25),e._uU(37,"Acciones"),e.qZA()()(),e.TgZ(38,"tbody"),e.YNc(39,U,12,5,"ng-container",26),e.YNc(40,P,3,1,"tr",27),e.qZA()()(),e.TgZ(41,"ngb-pagination",28),e.NdJ("pageChange",function(i){return n.pageChange(i)})("page",function(){return n.currentPage}),e.qZA()(),e.YNc(42,E,37,7,"ng-template",null,29,e.W1O)),2&t&&(e.xp6(7),e.Q6J("ngIf",!n.showHelp),e.xp6(14),e.Q6J("ngModel",n.searchText),e.xp6(3),e.Q6J("ngIf",n.isCrear||n.isAdmin),e.xp6(15),e.Q6J("ngForOf",n.roles.content),e.xp6(1),e.Q6J("ngIf",0===n.roles.content.length),e.xp6(1),e.Q6J("pageSize",n.roles.pageable.pageSize)("collectionSize",n.roles.totalElements)("maxSize",5))},dependencies:[g.sg,g.O5,_.yS,m.N9,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.On,s.sg,s.u],styles:['@charset "UTF-8";.shadow-custom[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040}th[_ngcontent-%COMP%]{background-color:var(--secondary-dark-gray);color:#fff}a[_ngcontent-%COMP%]{text-decoration:none;color:var(--secondary-color)}a[_ngcontent-%COMP%]:hover   .fa[_ngcontent-%COMP%]{color:var(--secondary-dark-gray)}.fa[_ngcontent-%COMP%]{color:#d6d6d6}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px;color:var(--secondary-light-gray)}.actions-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;gap:1rem}.button-group[_ngcontent-%COMP%]{display:flex}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;margin:0;padding:0;border-radius:0}.btn.shadowed[_ngcontent-%COMP%]{box-shadow:#8383a840 0 30px 60px -12px inset,#6262624d 0 18px 36px -18px inset}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{border-top-left-radius:4px;border-bottom-left-radius:4px}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{border-top-right-radius:4px;border-bottom-right-radius:4px}.button-group[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#fff}.btn-light-mine[_ngcontent-%COMP%]{color:gray;background-color:#fff;border:none}.rounded-sup[_ngcontent-%COMP%]{border-top-left-radius:7px;border-top-right-radius:7px}.custom-placeholder[_ngcontent-%COMP%]::placeholder{color:#cacaca;font-style:italic}.bg-secondary-color[_ngcontent-%COMP%]{background-color:#dc1b25d7}']}),r})(),J=(()=>{class r{constructor(t){this.asignacionService=t,this.url=c.N.urlAPI+"docente/listDocente",this.isLoading=!1,this.listDocente={content:[],pageable:{offset:0,paged:!0,pageNumber:0,pageSize:0,sort:{empty:!0,sorted:!0,unsorted:!0},unpaged:!0},empty:!0,first:!0,last:!0,number:0,numberOfElements:0,size:0,sort:{empty:!0,sorted:!0,unsorted:!0},totalElements:0,totalPages:0}}getPages(t=0,n=10){return this.isLoading=!0,this.asignacionService.get(this.url,{params:{page:t.toString(),size:n.toString()}}).subscribe(o=>{this.listDocente=o,this.isLoading=!1})}getPagesF(t=0,n=10,o){return this.isLoading=!0,this.asignacionService.get(this.url,{params:{page:t.toString(),size:n.toString()}}).subscribe(i=>{this.listDocente=""===o?i:{...i,content:i.content.filter(l=>l.numeroUnico.includes(o))},this.isLoading=!1})}SaveAsignaturaDocente(t){return this.asignacionService.post(`${c.N.urlAPI}asignaturaDocente/create`,t).pipe((0,p.K)(n=>(0,u._)(409===n.status?n.error.mensaje:"Ocurri\xf3 un error en la solicitud.")))}docenteAulaBycode(t){return this.asignacionService.get(`${c.N.urlAPI}asignaturaDocente/docenteAsignaturas/`+t)}getAsignaturas(){return this.asignacionService.get(`${c.N.urlAPI}asignatura/listAllAsignatura`)}getDocentes(){return this.asignacionService.get(`${c.N.urlAPI}docente/listAllDocente`)}SaveDocente(t){return this.asignacionService.post(`${c.N.urlAPI}docente/create`,t).pipe((0,p.K)(n=>(0,u._)(409===n.status||400===n.status?n.error.mensaje:"Ocurri\xf3 un error en la solicitud.")))}UpdateDocente(t,n){return this.asignacionService.put(`${c.N.urlAPI}docente/update/`+n,t).pipe((0,p.K)(o=>(0,u._)(409===o.status||400===o.status?o.error.mensaje:"Ocurri\xf3 un error en la solicitud.")))}GetDocentebyCode(t){return this.asignacionService.get(`${c.N.urlAPI}docente/getDocenteById/`+t)}DeleteDocente(t){return this.asignacionService.delete(`${c.N.urlAPI}docente/delete/`+t).pipe((0,p.K)(n=>(0,u._)(409===n.status||400===n.status?n.error.mensaje:"Ocurri\xf3 un error en la solicitud.")))}docenteExistBloque(t){return this.asignacionService.get(`${c.N.urlAPI}docente/docenteBloque/`+t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(f.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),x=(()=>{class r{constructor(){this.id="",this.nombre=""}setId(t,n){this.id=t,this.nombre=n}getId(){return this.id}getNombre(){return this.nombre}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var C=d(3778);const Y=["modalContent"],z=["modalDocente"];function H(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"div",31)(1,"strong"),e._uU(2,"Instrucciones para la gesti\xf3n de Docentes:"),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"small"),e._uU(5,'* Para agregar un nuevo Docente haz click en "'),e.TgZ(6,"strong"),e._uU(7,"+ Registrar Nueva Docente"),e.qZA(),e._uU(8,'".'),e.qZA(),e._UZ(9,"br"),e.TgZ(10,"small"),e._uU(11,'* Para editar un Docente haz click en "'),e.TgZ(12,"strong"),e._UZ(13,"i",32),e.qZA(),e._uU(14,'".'),e.qZA(),e._UZ(15,"br"),e.TgZ(16,"small"),e._uU(17,'* Para eliminar un Docente haz click en "'),e.TgZ(18,"strong"),e._UZ(19,"i",33),e.qZA(),e._uU(20,'".'),e.qZA(),e._UZ(21,"br"),e.TgZ(22,"strong"),e._uU(23,"Instrucciones para la gesti\xf3n de las Asignaturas del Docente:"),e.qZA(),e._UZ(24,"br"),e.TgZ(25,"small"),e._uU(26,'* Para gestionar las asignaturas del Docente haz click en "'),e._UZ(27,"i",34),e._uU(28,'".'),e.qZA(),e.TgZ(29,"button",35),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.alternHelp())}),e.qZA()()}}function Q(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"button",36),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.openModalDocente(0))}),e._uU(1," + Registrar nuevo Docente "),e.qZA()}}function j(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"a",39),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,i=e.oxw();return e.KtG(i.navegarAComponente2(o.id,o.nombre))}),e._UZ(1,"i",34),e.qZA()}}function G(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"a",39),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.openModalDocente(1))})("click",function(){e.CHM(t);const o=e.oxw().$implicit,i=e.oxw();return e.KtG(i.editdocente(o.id))}),e._UZ(1,"i",32),e.qZA()}}function R(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"a",39),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,i=e.oxw();return e.KtG(i.eliminar(o.id))}),e._UZ(1,"i",40),e.qZA()}}function L(r,a){if(1&r&&(e.ynx(0),e.TgZ(1,"tr",22)(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td")(9,"div",37),e.YNc(10,j,2,0,"a",38),e.YNc(11,G,2,0,"a",38),e.YNc(12,R,2,0,"a",38),e.qZA()()(),e.BQk()),2&r){const t=a.$implicit,n=a.index,o=e.oxw();e.xp6(3),e.Oqu(n+1),e.xp6(2),e.Oqu(t.nombre),e.xp6(2),e.Oqu(t.telefono),e.xp6(3),e.Q6J("ngIf",o.isEditar||o.isAdmin),e.xp6(1),e.Q6J("ngIf",o.isEditar||o.isAdmin),e.xp6(1),e.Q6J("ngIf",o.isEliminar||o.isAdmin)}}function $(r,a){if(1&r&&(e.TgZ(0,"tr")(1,"td",41),e._uU(2),e.qZA()()),2&r){const t=e.oxw();e.xp6(2),e.hij(" ",t.isLoading?"Cargando...":"No se encontraron resultados"," ")}}function B(r,a){if(1&r&&(e.TgZ(0,"ng-option",63),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.id)}}function K(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"div",42)(1,"div",43)(2,"div",44)(3,"div",45)(4,"strong"),e._uU(5),e.qZA()()()(),e.TgZ(6,"button",46),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.close(""))}),e.qZA()(),e.TgZ(7,"div",47)(8,"div",48)(9,"small"),e._uU(10,"* Todos los campos son obligatorios."),e.qZA(),e._UZ(11,"button",49),e.qZA(),e.TgZ(12,"form",50),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.submitForm())}),e.TgZ(13,"div",51)(14,"div",52)(15,"div",53)(16,"div",51)(17,"div")(18,"label",54),e._uU(19,"*Nombre:"),e.qZA(),e._UZ(20,"input",55),e.qZA()()(),e.TgZ(21,"div",56)(22,"div",51)(23,"label",57),e._uU(24,"Asignatura:"),e.qZA(),e.TgZ(25,"ng-select",58),e.YNc(26,B,2,2,"ng-option",59),e.qZA()()()(),e._UZ(27,"div",52)(28,"br"),e.TgZ(29,"div",60)(30,"button",61),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.close("Volver"))})("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.limpiarAsignaturas())}),e._uU(31," Volver "),e.qZA(),e.TgZ(32,"button",62),e._uU(33),e.qZA()()()()()}if(2&r){const t=e.oxw();e.xp6(5),e.Oqu(t.nombremodal),e.xp6(7),e.Q6J("formGroup",t.formulario),e.xp6(13),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("ngForOf",t.asignaturas),e.xp6(7),e.hij(" ",t.nombreButtonModal," ")}}function V(r,a){1&r&&(e.TgZ(0,"div",72),e._uU(1," Solo se permiten letras, n\xfameros y guiones. Todo debe estar unido y sin espacios. Con un maximo de 15 caracteres. "),e.qZA())}function W(r,a){1&r&&(e.TgZ(0,"div",72),e._uU(1,"El C\xf3digo es obligatorio."),e.qZA())}function X(r,a){1&r&&(e.TgZ(0,"div",72),e._uU(1," Solo se permiten letras y espacios. Con un m\xe1ximo de 100 caracteres. "),e.qZA())}function ee(r,a){1&r&&(e.TgZ(0,"div",72),e._uU(1,"El nombre es obligatorio."),e.qZA())}function te(r,a){1&r&&(e.TgZ(0,"div",72),e._uU(1," Solo se permiten letras y espacios. Con un m\xe1ximo de 100 caracteres. "),e.qZA())}function ne(r,a){1&r&&(e.TgZ(0,"div",72),e._uU(1,"La instituci\xf3n es obligatorio."),e.qZA())}function oe(r,a){1&r&&(e.TgZ(0,"div",72),e._uU(1," Solo se permiten letras y espacios. Con un m\xe1ximo de 100 caracteres. "),e.qZA())}function re(r,a){1&r&&(e.TgZ(0,"div",72),e._uU(1,"La especialidad es obligatorio."),e.qZA())}function ie(r,a){1&r&&(e.TgZ(0,"div",72),e._uU(1," El n\xfamero de tel\xe9fono debe tener el formato correcto (ejemplo: 6xxxxxxx \xf3 7xxxxxxx). Todo debe estar unido y sin espacios. "),e.qZA())}function ae(r,a){1&r&&(e.TgZ(0,"div",72),e._uU(1,"El Tel\xe9fono es obligatorio."),e.qZA())}function se(r,a){1&r&&(e.TgZ(0,"div",72),e._uU(1," El correo debe tener el formato correcto (ejemplo:x@ues.edu.sv \xf3 x.x@ues.edu.sv ). "),e.qZA())}function ce(r,a){1&r&&(e.TgZ(0,"div",72),e._uU(1,"El correo es obligatorio."),e.qZA())}function le(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"div",42)(1,"div",43)(2,"div",44)(3,"div",45)(4,"strong"),e._uU(5),e.qZA()()()(),e.TgZ(6,"button",46),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.close(""))}),e.qZA()(),e.TgZ(7,"div",47)(8,"div",48)(9,"small"),e._uU(10,"* Todos los campos son obligatorios."),e.qZA(),e._UZ(11,"button",49),e.qZA(),e.TgZ(12,"form",50),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.submitForm())}),e.TgZ(13,"div",51)(14,"div",52)(15,"div",64)(16,"div",51)(17,"div")(18,"label",54),e._uU(19,"C\xf3digo:"),e.qZA(),e._UZ(20,"input",65),e.YNc(21,V,2,0,"div",66),e.qZA(),e.YNc(22,W,2,0,"div",66),e.qZA()(),e.TgZ(23,"div",64)(24,"div",51)(25,"label",54),e._uU(26,"Nombre:"),e.qZA(),e._UZ(27,"input",67),e.YNc(28,X,2,0,"div",66),e.YNc(29,ee,2,0,"div",66),e.qZA()(),e.TgZ(30,"div",64)(31,"div",51)(32,"label",54),e._uU(33,"Instituci\xf3n:"),e.qZA(),e._UZ(34,"input",68),e.YNc(35,te,2,0,"div",66),e.YNc(36,ne,2,0,"div",66),e.qZA()(),e.TgZ(37,"div",64)(38,"div",51)(39,"label",54),e._uU(40,"Especialidad:"),e.qZA(),e._UZ(41,"input",69),e.YNc(42,oe,2,0,"div",66),e.YNc(43,re,2,0,"div",66),e.qZA()(),e.TgZ(44,"div",64)(45,"div",51)(46,"label",54),e._uU(47,"Tel\xe9fono:"),e.qZA(),e._UZ(48,"input",70),e.YNc(49,ie,2,0,"div",66),e.YNc(50,ae,2,0,"div",66),e.qZA()(),e.TgZ(51,"div",64)(52,"div",51)(53,"label",54),e._uU(54,"Correo:"),e.qZA(),e._UZ(55,"input",71),e.YNc(56,se,2,0,"div",66),e.YNc(57,ce,2,0,"div",66),e.qZA()()(),e._UZ(58,"div",52)(59,"br"),e.TgZ(60,"div",60)(61,"button",61),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.close("Volver"))}),e._uU(62," Volver "),e.qZA(),e.TgZ(63,"button",62),e._uU(64),e.qZA()()()()()}if(2&r){const t=e.oxw();let n,o,i,l,h,v;e.xp6(5),e.Oqu(t.nombremodal),e.xp6(7),e.Q6J("formGroup",t.formularioD),e.xp6(9),e.Q6J("ngIf",null==(n=t.formularioD.get("numeroUnico"))?null:n.hasError("pattern")),e.xp6(1),e.Q6J("ngIf",t.isInvalid("numeroUnico")),e.xp6(6),e.Q6J("ngIf",null==(o=t.formularioD.get("nombre"))?null:o.hasError("pattern")),e.xp6(1),e.Q6J("ngIf",t.isInvalid("nombre")),e.xp6(6),e.Q6J("ngIf",null==(i=t.formularioD.get("institucion"))?null:i.hasError("pattern")),e.xp6(1),e.Q6J("ngIf",t.isInvalid("institucion")),e.xp6(6),e.Q6J("ngIf",null==(l=t.formularioD.get("especialidad"))?null:l.hasError("pattern")),e.xp6(1),e.Q6J("ngIf",t.isInvalid("especialidad")),e.xp6(6),e.Q6J("ngIf",null==(h=t.formularioD.get("telefono"))?null:h.hasError("pattern")),e.xp6(1),e.Q6J("ngIf",t.isInvalid("telefono")),e.xp6(6),e.Q6J("ngIf",null==(v=t.formularioD.get("correo"))?null:v.hasError("pattern")),e.xp6(1),e.Q6J("ngIf",t.isInvalid("correo")),e.xp6(7),e.hij(" ",t.nombreButtonModal," ")}}let de=(()=>{class r{constructor(t,n,o,i,l,h,v,mt,_t){this.DAServices=t,this.fb=n,this.fD=o,this.modalService=i,this.sweetService=l,this.router=h,this.route=v,this.sharedDataService=mt,this.tokenService=_t,this.currentPage=1,this.errores={},this.editdata=[],this.docenteAsignaturaExist=[],this.searchText="",this.showHelp=!0,this.isCrear=!1,this.isEditar=!1,this.isEliminar=!1,this.isAdmin=!1,this.formulario=this.fb.group({Iddocente:["",[s.kI.required]],asignaturas:[[]]}),this.formularioD=this.fD.group({nombre:["",[s.kI.required,s.kI.pattern(/^[\p{L}\s\xf1\xd1.]{1,100}$/u)]],numeroUnico:["",[s.kI.required,s.kI.pattern(/^[a-zA-Z\xf1\xd10-9\-]{1,15}$/)]],especialidad:["",[s.kI.required,s.kI.pattern(/^[\p{L}\s\xf1\xd1.]*$/u)]],institucion:["",[s.kI.required,s.kI.pattern(/^[\p{L}\s\xf1\xd1.]{1,100}$/u)]],correo:["",[s.kI.required,s.kI.pattern(/^[a-zA-Z0-9]+(\.[a-zA-Z0-9]+)*@ues\.edu\.sv$/)]],telefono:["",[s.kI.required,s.kI.pattern(/^[6-7-2]\d{7}$/)]]})}actualizarElFD(){}actualizarElfb(){}ngOnInit(){this.DAServices.getPages(),this.isAdmin=this.tokenService.isSuperAdmin(),this.isCrear=this.tokenService.isPermisos("DOCENTE_","CREAR"),this.isEditar=this.tokenService.isPermisos("DOCENTE_","EDITAR"),this.isEliminar=this.tokenService.isPermisos("DOCENTE_","ELIMINAR")}get DA(){return this.DAServices.listDocente}get isLoading(){return this.DAServices.isLoading}pageChange(t){this.DAServices.getPages(t-1,5)}eliminar(t){this.sweetService.showSweetWarning("AVISO","\xbfEliminar este Docente?").then(n=>{n&&this.DAServices.DeleteDocente(t).subscribe(o=>{this.sweetService.showSweetSuccess(o.mensaje),this.DAServices.getPages()},o=>{this.sweetService.showSweetError(o)})})}submitForm(){this.formularioD.valid?""!=this.nombreButtonModal&&"CREAR"==this.nombreButtonModal?null!=this.formularioD.value.numeroUnico&&null!=this.formularioD.value.nombre&&null!=this.formularioD.value.telefono&&null!=this.formularioD.value.correo&&null!=this.formularioD.value.especialidad&&null!=this.formularioD.value.institucion&&(this.docenteSave={nombre:this.formularioD.value.nombre,numeroUnico:this.formularioD.value.numeroUnico,especialidad:this.formularioD.value.especialidad,institucion:this.formularioD.value.institucion,correo:this.formularioD.value.correo,telefono:this.formularioD.value.telefono},this.DAServices.SaveDocente(this.docenteSave).subscribe(t=>{this.modalService.dismissAll(),this.DAServices.getPages(),this.sweetService.showSweetSuccess(t.mensaje)},t=>{this.sweetService.showSweetError(t),this.DAServices.getPages()})):(null!=this.formularioD.value.numeroUnico&&null!=this.formularioD.value.nombre&&null!=this.formularioD.value.telefono&&null!=this.formularioD.value.correo&&null!=this.formularioD.value.especialidad&&null!=this.formularioD.value.institucion&&(this.docenteSave={nombre:this.formularioD.value.nombre,numeroUnico:this.formularioD.value.numeroUnico,especialidad:this.formularioD.value.especialidad,institucion:this.formularioD.value.institucion,correo:this.formularioD.value.correo,telefono:this.formularioD.value.telefono}),this.bloqueasignatura&&this.docenteSave.nombre!=this.nombreDocente?this.sweetService.showSweetWarning("Aviso",`\xbf${this.nombreDocente}  ya se encuentra en un bloque; cambiar su nombre podria crear una confusion en los horarios a crear; seguro de continuar?`).then(t=>{t&&this.DAServices.UpdateDocente(this.docenteSave,this.valorIdUnico).subscribe(n=>{this.modalService.dismissAll(),this.DAServices.getPages(),this.sweetService.showSweetSuccess(n.mensaje)},n=>{this.sweetService.showSweetError(n),this.modalService.dismissAll(),this.DAServices.getPages()})}):this.DAServices.UpdateDocente(this.docenteSave,this.valorIdUnico).subscribe(t=>{this.modalService.dismissAll(),this.DAServices.getPages(),this.sweetService.showSweetSuccess(t.mensaje)},t=>{this.sweetService.showSweetError(t),this.modalService.dismissAll(),this.DAServices.getPages()})):this.formularioD.markAllAsTouched()}docenteExist(t){this.DAServices.docenteExistBloque(t).subscribe(n=>{this.bloqueasignatura=n},n=>{this.sweetService.showSweetError(n)})}editdocente(t){this.formularioD.reset(),this.setpopupdataDocente(t),this.valorIdUnico=t,this.docenteExist(t)}setpopupdataDocente(t){this.DAServices.GetDocentebyCode(t).subscribe(n=>{this.nombreDocente=n.nombre,this.docenteData=n,this.formularioD.setValue({nombre:this.docenteData.nombre.toString(),numeroUnico:this.docenteData.numeroUnico.toString(),especialidad:this.docenteData.especialidad.toString(),institucion:this.docenteData.institucion.toString(),correo:this.docenteData.correo.toString(),telefono:this.docenteData.telefono.toString()})})}isInvalid(t){const n=this.formularioD.get(t);if(this.errores={},n&&n.touched&&n.invalid){const o={required:"Este campo es obligatorio."};for(const i in n.errors)Object.prototype.hasOwnProperty.call(o,i)&&(this.errores[t]=o[i]);return!0}return!1}setpopupdata(t,n){this.DAServices.docenteAulaBycode(t).subscribe(o=>{let i;this.editdata=o,this.editdata.length>0&&this.editdata?(this.editdata.forEach(l=>{this.docenteAsignaturaExist.push(l.asignatura)}),i=this.docenteAsignaturaExist.map(l=>l.nombre),this.formulario.setValue({Iddocente:this.editdata[0].docente.nombre.toString(),asignaturas:i})):this.formulario.setValue({Iddocente:n,asignaturas:i=[]})})}setAsignaturas(){this.DAServices.getAsignaturas().subscribe(t=>{this.asignaturas=t})}limpiarAsignaturas(){this.asignaturas=[],this.actualizarElfb()}agregarlimpiarModal(){this.formulario.setValue({Iddocente:"",asignaturas:[]}),this.docenteAsignaturaExist=[]}onSearch(){this.DAServices.getPagesF(0,0,this.searchText)}openModal(t,n,o){0==t&&(this.agregarlimpiarModal(),this.nombremodal="Asignar Asignaturas",this.nombreButtonModal="CREAR",this.setpopupdata(n,o),this.setAsignaturas(),this.agregarlimpiarModal()),this.modalRef=this.modalService.open(this.modalContent,{centered:!0,size:"lg"})}openModalDocente(t){this.formularioD.reset(),0!=t&&(this.nombremodal="Editar ",this.nombreButtonModal="EDITAR"),0==t&&(this.nombremodal="Crear Nuevo Docente",this.nombreButtonModal="CREAR"),this.modalRef=this.modalService.open(this.modalDocente,{centered:!0,size:"lg"})}navegarAComponente2(t,n){this.sharedDataService.setId(t,n),this.router.navigate(["/mantenimiento/docenteAsignatura"])}alternHelp(){this.showHelp=!this.showHelp}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(J),e.Y36(s.qu),e.Y36(s.qu),e.Y36(m.FF),e.Y36(b.d),e.Y36(_.F0),e.Y36(_.gz),e.Y36(x),e.Y36(A.B))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-asignatura-docente"]],viewQuery:function(t,n){if(1&t&&(e.Gf(Y,5),e.Gf(z,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.modalContent=o.first),e.iGM(o=e.CRH())&&(n.modalDocente=o.first)}},decls:46,vars:8,consts:[["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/"],["aria-current","page",1,"breadcrumb-item","active"],["class","alert alert-warning alert-dismissible fade show py-2 mb-3 mx-0 on-hover-op-65","role","alert",4,"ngIf"],[1,"card","bg-white","text-secondary","w-100","shadow-custom","mb-5"],[1,"card-header","bg-white","d-flex","justify-content-between","align-items-center"],[1,"d-flex","secondary-text","ps-2"],[1,"fa","fa-question-circle"],[1,"bi","bi-question-circle",2,"cursor","pointer",3,"click"],[1,"card-body"],[1,"row","px-4"],[1,"col-md-3","mb-3","mt-2"],[1,"d-flex","custom-placeholder"],["type","search",1,"form-control","square-border",3,"ngModel","ngModelChange","keyup.enter"],[1,"col-md-6"],[1,"col-md-3","mb-3","pt-2","mt-2"],["type","button","class","btn btn-danger shadow-primary mt-3 w-100 shadow-red",3,"click",4,"ngIf"],[1,"card","shadow"],[1,"table-responsive"],[1,"table"],[1,"text-center"],["sortable","#"],["sortable","titulo"],["sortable","acciones",1,"rounded-r"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"d-flex","justify-content-end","p-2",3,"pageSize","collectionSize","maxSize","pageChange","page"],["modalContent",""],["modalDocente",""],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show","py-2","mb-3","mx-0","on-hover-op-65"],[1,"bi","bi-pencil"],[1,"bi","bi-trash3-fill"],[1,"bi","bi-book"],["type","button",1,"btn-close","py-3",3,"click"],["type","button",1,"btn","btn-danger","shadow-primary","mt-3","w-100","shadow-red",3,"click"],[1,"actions-container","d-flex","justify-content-center"],["style","cursor: pointer",3,"click",4,"ngIf"],[2,"cursor","pointer",3,"click"],[1,"bi","bi-trash"],["colspan","6",1,"text-center"],[1,"modal-header","bg-secondary-color","text-white","rounded-sup","card-header","shadow-sm","py-1"],[1,"modal-title"],[1,"d-flex","bd-highlight"],[1,"p-2","w-100","bd-highlight"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show","py-2","mb-0","mx-3"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close","py-2"],[1,"px-4","py-2",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"row"],[1,"col-12","col-sm-12","pt-2"],["for","titulo",1,"text-secondary"],["type","text","id","Iddocente","name","Iddocente","placeholder","","formControlName","Iddocente",1,"form-control","rounded-3","shadow-sm","custom-placeholder"],[1,"col-12","col-sm-12","pt-3"],[1,"text-secondary"],["name","asignaturas","placeholder","Puede seleccionar m\xe1s de una...","id","asignaturas","formControlName","asignaturas",1,"shadow-sm","rounded-3","custom-placeholder",3,"multiple"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer","justify-content-between","px-0"],["type","button",1,"btn","btn-outline-secondary","shadow-sm","w-25","m-0",3,"click"],["type","submit",1,"btn","btn-danger","shadow-primary","btn-block","w-25","m-0"],[3,"value"],[1,"col-12","col-sm-6","pt-2"],["type","text","id","numeroUnico","name","numeroUnico","placeholder","C\xf3digo.","formControlName","numeroUnico",1,"form-control","rounded-3","shadow-sm","custom-placeholder"],["class","text-danger",4,"ngIf"],["type","text","id","nombre","name","nombre","placeholder","Nombre Completo.","autocomplete","off","formControlName","nombre",1,"form-control","rounded-3","shadow-sm","custom-placeholder"],["type","text","id","nombre","name","nombre","placeholder","Instituci\xf3n.","autocomplete","off","formControlName","institucion",1,"form-control","rounded-3","shadow-sm","custom-placeholder"],["type","text","id","nombre","name","nombre","placeholder","Especialidad.","autocomplete","off","formControlName","especialidad",1,"form-control","rounded-3","shadow-sm","custom-placeholder"],["type","phone","id","nombre","name","nombre","autocomplete","off","formControlName","telefono","placeholder","6/7XXXXXXX",1,"form-control","rounded-3","shadow-sm","custom-placeholder"],["type","email","id","nombre","name","nombre","placeholder","x@ues.edu.sv.","autocomplete","off","formControlName","correo",1,"form-control","rounded-3","shadow-sm","custom-placeholder"],[1,"text-danger"]],template:function(t,n){1&t&&(e.TgZ(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),e._uU(4,"Home"),e.qZA()(),e.TgZ(5,"li",4),e._uU(6,"Docente"),e.qZA()()(),e.YNc(7,H,30,0,"div",5),e.TgZ(8,"div",6)(9,"div",7)(10,"span",8),e._uU(11,"Docente"),e.qZA(),e._UZ(12,"i",9),e.TgZ(13,"i",10),e.NdJ("click",function(){return n.alternHelp()}),e.qZA()(),e.TgZ(14,"div",11)(15,"span",8),e._uU(16,"Filtrar tabla por:"),e.qZA(),e.TgZ(17,"div",12)(18,"div",13)(19,"label",14),e._uU(20,"C\xf3digo Docente:"),e.qZA(),e.TgZ(21,"input",15),e.NdJ("ngModelChange",function(i){return n.searchText=i})("keyup.enter",function(){return n.onSearch()}),e.qZA()(),e._UZ(22,"div",16),e.TgZ(23,"div",17),e.YNc(24,Q,2,0,"button",18),e.qZA()()()(),e.TgZ(25,"div",19)(26,"div",20)(27,"table",21)(28,"thead")(29,"tr",22)(30,"th",23),e._uU(31,"#"),e.qZA(),e.TgZ(32,"th",24),e._uU(33,"Docente"),e.qZA(),e.TgZ(34,"th",24),e._uU(35,"Tel\xe9fono"),e.qZA(),e.TgZ(36,"th",25),e._uU(37,"Acciones"),e.qZA()()(),e.TgZ(38,"tbody"),e.YNc(39,L,13,6,"ng-container",26),e.YNc(40,$,3,1,"tr",27),e.qZA()()(),e.TgZ(41,"ngb-pagination",28),e.NdJ("pageChange",function(i){return n.pageChange(i)})("page",function(){return n.currentPage}),e.qZA()(),e.YNc(42,K,34,5,"ng-template",null,29,e.W1O),e.YNc(44,le,65,15,"ng-template",null,30,e.W1O)),2&t&&(e.xp6(7),e.Q6J("ngIf",!n.showHelp),e.xp6(14),e.Q6J("ngModel",n.searchText),e.xp6(3),e.Q6J("ngIf",n.isCrear||n.isAdmin),e.xp6(15),e.Q6J("ngForOf",n.DA.content),e.xp6(1),e.Q6J("ngIf",0===n.DA.content.length),e.xp6(1),e.Q6J("pageSize",n.DA.pageable.pageSize)("collectionSize",n.DA.totalElements)("maxSize",5))},dependencies:[g.sg,g.O5,_.yS,m.N9,s._Y,s.Fj,s.JJ,s.JL,s.On,s.sg,s.u,C.w9,C.jq],styles:['@charset "UTF-8";.shadow-custom[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040}th[_ngcontent-%COMP%]{background-color:var(--secondary-dark-gray);color:#fff}a[_ngcontent-%COMP%]{text-decoration:none;color:var(--secondary-color)}a[_ngcontent-%COMP%]:hover   .fa[_ngcontent-%COMP%]{color:var(--secondary-dark-gray)}.fa[_ngcontent-%COMP%]{color:#d6d6d6}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px;color:var(--secondary-light-gray)}.actions-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;gap:1rem}.button-group[_ngcontent-%COMP%]{display:flex}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;margin:0;padding:0;border-radius:0}.btn.shadowed[_ngcontent-%COMP%]{box-shadow:#8383a840 0 30px 60px -12px inset,#6262624d 0 18px 36px -18px inset}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{border-top-left-radius:4px;border-bottom-left-radius:4px}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{border-top-right-radius:4px;border-bottom-right-radius:4px}.button-group[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#fff}.btn-light-mine[_ngcontent-%COMP%]{color:gray;background-color:#fff;border:none}.rounded-sup[_ngcontent-%COMP%]{border-top-left-radius:7px;border-top-right-radius:7px}.custom-placeholder[_ngcontent-%COMP%]::placeholder{color:#cacaca;font-style:italic}.bg-secondary-color[_ngcontent-%COMP%]{background-color:#dc1b25d7}']}),r})(),ge=(()=>{class r{constructor(t){this.asignacionService=t,this.url=c.N.urlAPI+"departamento/listDepartamento",this.isLoading=!1,this.listDepartamento={content:[],pageable:{offset:0,paged:!0,pageNumber:0,pageSize:0,sort:{empty:!0,sorted:!0,unsorted:!0},unpaged:!0},empty:!0,first:!0,last:!0,number:0,numberOfElements:0,size:0,sort:{empty:!0,sorted:!0,unsorted:!0},totalElements:0,totalPages:0}}getPages(t=0,n=10){return this.isLoading=!0,this.asignacionService.get(this.url,{params:{page:t.toString(),size:n.toString()}}).subscribe(o=>{this.listDepartamento=o,this.isLoading=!1})}getPagesF(t=0,n=10,o){return this.isLoading=!0,this.asignacionService.get(this.url,{params:{page:t.toString(),size:n.toString()}}).subscribe(i=>{this.listDepartamento=""===o?i:{...i,content:i.content.filter(l=>l.codigo.includes(o))},this.isLoading=!1})}saveDepartamento(t){return this.asignacionService.post(`${c.N.urlAPI}departamento/create`,t)}updateDepartamento(t,n){return this.asignacionService.put(`${c.N.urlAPI}departamento/update/`+n,t)}getDepartamentobyId(t){return this.asignacionService.get(`${c.N.urlAPI}departamento/getDepartamentoById/`+t)}deleteDepartamento(t){return this.asignacionService.delete(`${c.N.urlAPI}departamento/delete/`+t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(f.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const pe=["modalDepartamento"];function me(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"div",30)(1,"strong"),e._uU(2,"Instrucciones para la gesti\xf3n de Departamentos:"),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"small"),e._uU(5,'* Para agregar un nuevo Departamento haz click en "'),e.TgZ(6,"strong"),e._uU(7,"+ Registrar Nuevo Departamento"),e.qZA(),e._uU(8,'".'),e.qZA(),e._UZ(9,"br"),e.TgZ(10,"small"),e._uU(11,'* Para editar un Departamento haz click en "'),e.TgZ(12,"strong"),e._UZ(13,"i",31),e.qZA(),e._uU(14,'".'),e.qZA(),e._UZ(15,"br"),e.TgZ(16,"small"),e._uU(17,'* Para eliminar un Departamento haz click en "'),e.TgZ(18,"strong"),e._UZ(19,"i",32),e.qZA(),e._uU(20,'".'),e.qZA(),e._UZ(21,"br"),e.TgZ(22,"button",33),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.alternHelp())}),e.qZA()()}}function _e(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.openModalDepartamento(0))}),e._uU(1," + Registrar nuevo Departamento "),e.qZA()}}function he(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"a",37),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,i=e.oxw();return e.KtG(i.editarDepartamento(o.id))})("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.openModalDepartamento(1))}),e._UZ(1,"i",31),e.qZA()}}function fe(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"a",37),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,i=e.oxw();return e.KtG(i.eliminar(o.id))}),e._UZ(1,"i",38),e.qZA()}}function be(r,a){if(1&r&&(e.ynx(0),e.TgZ(1,"tr",22)(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td")(7,"div",35),e.YNc(8,he,2,0,"a",36),e.YNc(9,fe,2,0,"a",36),e.qZA()()(),e.BQk()),2&r){const t=a.$implicit,n=a.index,o=e.oxw();e.xp6(3),e.Oqu(n+1),e.xp6(2),e.Oqu(t.nombre),e.xp6(3),e.Q6J("ngIf",o.isEditar||o.isAdmin),e.xp6(1),e.Q6J("ngIf",o.isEliminar||o.isAdmin)}}function ve(r,a){if(1&r&&(e.TgZ(0,"tr")(1,"td",39),e._uU(2),e.qZA()()),2&r){const t=e.oxw();e.xp6(2),e.hij(" ",t.isLoading?"Cargando...":"No se encontraron resultados"," ")}}function Ae(r,a){1&r&&(e.TgZ(0,"div",59),e._uU(1," Solo se permiten letras, n\xfameros y guiones. Todo debe estar unido y sin espacios. Con un m\xe1ximo de 15 caracteres. "),e.qZA())}function Ce(r,a){1&r&&(e.TgZ(0,"div",59),e._uU(1,"El C\xf3digo es obligatorio."),e.qZA())}function Ze(r,a){1&r&&(e.TgZ(0,"div",59),e._uU(1," Solo se permiten letras y espacios. Con un m\xe1ximo de 100 caracteres. "),e.qZA())}function xe(r,a){1&r&&(e.TgZ(0,"div",59),e._uU(1,"El nombre es obligatorio."),e.qZA())}function Te(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"div",40)(1,"div",41)(2,"div",42)(3,"div",43)(4,"strong"),e._uU(5),e.qZA()()()(),e.TgZ(6,"button",44),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.close(""))}),e.qZA()(),e.TgZ(7,"div",45)(8,"div",46)(9,"small"),e._uU(10,"* Todos los campos son obligatorios."),e.qZA(),e._UZ(11,"button",47),e.qZA(),e.TgZ(12,"form",48),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.submitForm())}),e.TgZ(13,"div",49)(14,"div",50)(15,"div",51)(16,"div",49)(17,"div")(18,"label",52),e._uU(19,"C\xf3digo:"),e.qZA(),e._UZ(20,"input",53),e.YNc(21,Ae,2,0,"div",54),e.qZA(),e.YNc(22,Ce,2,0,"div",54),e.qZA()(),e.TgZ(23,"div",51)(24,"div",49)(25,"label",52),e._uU(26,"Nombre:"),e.qZA(),e._UZ(27,"input",55),e.YNc(28,Ze,2,0,"div",54),e.YNc(29,xe,2,0,"div",54),e.qZA()()(),e._UZ(30,"div",50)(31,"br"),e.TgZ(32,"div",56)(33,"button",57),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.close("Volver"))}),e._uU(34," Volver "),e.qZA(),e.TgZ(35,"button",58),e._uU(36),e.qZA()()()()()}if(2&r){const t=e.oxw();let n,o;e.xp6(5),e.Oqu(t.nombremodal),e.xp6(7),e.Q6J("formGroup",t.formularioD),e.xp6(9),e.Q6J("ngIf",null==(n=t.formularioD.get("codigo"))?null:n.hasError("pattern")),e.xp6(1),e.Q6J("ngIf",t.isInvalid("codigo")),e.xp6(6),e.Q6J("ngIf",null==(o=t.formularioD.get("nombre"))?null:o.hasError("pattern")),e.xp6(1),e.Q6J("ngIf",t.isInvalid("nombre")),e.xp6(7),e.hij(" ",t.nombreButtonModal," ")}}let we=(()=>{class r{constructor(t,n,o,i,l){this.departamentoService=t,this.fD=n,this.modalService=o,this.sweetService=i,this.tokenService=l,this.currentPage=1,this.isCrear=!1,this.isEditar=!1,this.isEliminar=!1,this.isAdmin=!1,this.showHelp=!0,this.idunico="",this.searchText="",this.errores={},this.nombremodal="",this.nombreButtonModal="",this.formularioD=this.fD.group({codigo:["",[s.kI.required,s.kI.pattern(/^[a-zA-Z\xf1\xd10-9\-]{1,15}$/)]],nombre:["",[s.kI.required,s.kI.pattern(/^[\p{L}\s\xf1\xd1]{1,100}$/u)]]})}ngOnInit(){this.getPages(),this.isAdmin=this.tokenService.isSuperAdmin(),this.isCrear=this.tokenService.isPermisos("DEPARTAMENTO_","CREAR"),this.isEditar=this.tokenService.isPermisos("DEPARTAMENTO_","EDITAR"),this.isEliminar=this.tokenService.isPermisos("DEPARTAMENTO_","ELIMINAR")}getPages(){this.departamentoService.getPages()}get departamentos(){return this.departamentoService.listDepartamento}get isLoading(){return this.departamentoService.isLoading}pageChange(t){this.departamentoService.getPages(t-1)}submitForm(){this.formularioD.valid&&("CREAR"==this.nombreButtonModal?(this.saveDepartamento={codigoUnico:this.formularioD.value.codigo,nombre:this.formularioD.value.nombre},this.departamentoService.saveDepartamento(this.saveDepartamento).subscribe(t=>{this.modalService.dismissAll(),this.getPages(),this.sweetService.showSweetSuccess(t.mensaje)},t=>{this.sweetService.showSweetError(t.mensaje),this.modalService.dismissAll(),this.getPages()})):(this.saveDepartamento={codigoUnico:this.formularioD.value.codigo,nombre:this.formularioD.value.nombre},this.departamentoService.updateDepartamento(this.saveDepartamento,this.idunico).subscribe(t=>{this.modalService.dismissAll(),this.getPages(),this.sweetService.showSweetSuccess(t.mensaje)},t=>{this.sweetService.showSweetError(t.mensaje),this.modalService.dismissAll(),this.getPages()})))}alternHelp(){this.showHelp=!this.showHelp}editarDepartamento(t){this.idunico=t,this.setDepartamento(t)}setDepartamento(t){this.departamentoService.getDepartamentobyId(t).subscribe(n=>{this.formularioD.setValue({codigo:n.codigo,nombre:n.nombre})})}eliminar(t){this.sweetService.showSweetWarning("AVISO","\xbfEliminar este Departamento?").then(n=>{n&&this.departamentoService.deleteDepartamento(t).subscribe(o=>{this.sweetService.showSweetSuccess(o.mensaje),this.getPages()},o=>{this.sweetService.showSweetError(o.mensaje)})})}onSearch(){this.departamentoService.getPagesF(0,10,this.searchText)}observar(){0===this.departamentos.content.length&&this.getPages()}isInvalid(t){const n=this.formularioD.get(t);if(this.errores={},n&&n.touched&&n.invalid){const o={required:"Este campo es obligatorio."};for(const i in n.errors)Object.prototype.hasOwnProperty.call(o,i)&&(this.errores[t]=o[i]);return!0}return!1}openModalDepartamento(t){this.formularioD.reset(),0!=t&&(this.nombremodal="Editar Departamento",this.nombreButtonModal="EDITAR"),0==t&&(this.nombremodal="Crear Nuevo Departamento",this.nombreButtonModal="CREAR"),this.modalRef=this.modalService.open(this.modalDepartamento,{centered:!0,size:"lg"})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(ge),e.Y36(s.qu),e.Y36(m.FF),e.Y36(b.d),e.Y36(A.B))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-departamento"]],viewQuery:function(t,n){if(1&t&&e.Gf(pe,5),2&t){let o;e.iGM(o=e.CRH())&&(n.modalDepartamento=o.first)}},decls:42,vars:8,consts:[["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/"],["aria-current","page",1,"breadcrumb-item","active"],["class","alert alert-warning alert-dismissible fade show py-2 mb-3 mx-0 on-hover-op-65","role","alert",4,"ngIf"],[1,"card","bg-white","text-secondary","w-100","shadow-custom","mb-5"],[1,"card-header","bg-white","d-flex","justify-content-between","align-items-center"],[1,"d-flex","secondary-text","ps-2"],[1,"fa","fa-question-circle"],[1,"bi","bi-question-circle",2,"cursor","pointer",3,"click"],[1,"card-body"],[1,"row","px-4"],[1,"col-md-3","mb-3","mt-2"],[1,"d-flex","custom-placeholder"],["type","search",1,"form-control","square-border",3,"ngModel","ngModelChange","keyup.enter"],[1,"col-md-6"],[1,"col-md-3","mb-3","pt-2","mt-2"],["type","button","class","btn btn-danger shadow-primary mt-3 w-100 shadow-red",3,"click",4,"ngIf"],[1,"card","shadow"],[1,"table-responsive"],[1,"table"],[1,"text-center"],["sortable","#"],["sortable","titulo"],["sortable","acciones",1,"rounded-r"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"d-flex","justify-content-end","p-2",3,"pageSize","collectionSize","maxSize","pageChange","page"],["modalDepartamento",""],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show","py-2","mb-3","mx-0","on-hover-op-65"],[1,"bi","bi-pencil"],[1,"bi","bi-trash3-fill"],["type","button",1,"btn-close","py-3",3,"click"],["type","button",1,"btn","btn-danger","shadow-primary","mt-3","w-100","shadow-red",3,"click"],[1,"actions-container","d-flex","justify-content-center"],["style","cursor: pointer",3,"click",4,"ngIf"],[2,"cursor","pointer",3,"click"],[1,"bi","bi-trash"],["colspan","6",1,"text-center"],[1,"modal-header","bg-secondary-color","text-white","rounded-sup","card-header","shadow-sm","py-1"],[1,"modal-title"],[1,"d-flex","bd-highlight"],[1,"p-2","w-100","bd-highlight"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show","py-2","mb-0","mx-3"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close","py-2"],[1,"px-4","py-2",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"row"],[1,"col-12","col-sm-12","pt-2"],["for","titulo",1,"text-secondary"],["type","text","id","codigo","name","codigo","placeholder","Codigo.","formControlName","codigo",1,"form-control","rounded-3","shadow-sm","custom-placeholder"],["class","text-danger",4,"ngIf"],["type","text","id","nombre","name","nombre","placeholder","Nombre Completo.","autocomplete","off","formControlName","nombre",1,"form-control","rounded-3","shadow-sm","custom-placeholder"],[1,"modal-footer","justify-content-between","px-0"],["type","button",1,"btn","btn-outline-secondary","shadow-sm","w-25","m-0",3,"click"],["type","submit",1,"btn","btn-danger","shadow-primary","btn-block","w-25","m-0"],[1,"text-danger"]],template:function(t,n){1&t&&(e.TgZ(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),e._uU(4,"Home"),e.qZA()(),e.TgZ(5,"li",4),e._uU(6,"Departamento"),e.qZA()()(),e.YNc(7,me,23,0,"div",5),e.TgZ(8,"div",6)(9,"div",7)(10,"span",8),e._uU(11,"Departamento"),e.qZA(),e._UZ(12,"i",9),e.TgZ(13,"i",10),e.NdJ("click",function(){return n.alternHelp()}),e.qZA()(),e.TgZ(14,"div",11)(15,"span",8),e._uU(16,"Filtrar tabla por:"),e.qZA(),e.TgZ(17,"div",12)(18,"div",13)(19,"label",14),e._uU(20,"Codigo Departamento:"),e.qZA(),e.TgZ(21,"input",15),e.NdJ("ngModelChange",function(i){return n.searchText=i})("keyup.enter",function(){return n.onSearch()}),e.qZA()(),e._UZ(22,"div",16),e.TgZ(23,"div",17),e.YNc(24,_e,2,0,"button",18),e.qZA()()()(),e.TgZ(25,"div",19)(26,"div",20)(27,"table",21)(28,"thead")(29,"tr",22)(30,"th",23),e._uU(31,"#"),e.qZA(),e.TgZ(32,"th",24),e._uU(33,"Departamento"),e.qZA(),e.TgZ(34,"th",25),e._uU(35,"Acciones"),e.qZA()()(),e.TgZ(36,"tbody"),e.YNc(37,be,10,4,"ng-container",26),e.YNc(38,ve,3,1,"tr",27),e.qZA()()(),e.TgZ(39,"ngb-pagination",28),e.NdJ("pageChange",function(i){return n.pageChange(i)})("page",function(){return n.currentPage}),e.YNc(40,Te,37,7,"ng-template",null,29,e.W1O),e.qZA()()),2&t&&(e.xp6(7),e.Q6J("ngIf",!n.showHelp),e.xp6(14),e.Q6J("ngModel",n.searchText),e.xp6(3),e.Q6J("ngIf",n.isCrear||n.isAdmin),e.xp6(13),e.Q6J("ngForOf",n.departamentos.content),e.xp6(1),e.Q6J("ngIf",0===n.departamentos.content.length),e.xp6(1),e.Q6J("pageSize",n.departamentos.pageable.pageSize)("collectionSize",n.departamentos.totalElements)("maxSize",5))},dependencies:[g.sg,g.O5,_.yS,m.N9,s._Y,s.Fj,s.JJ,s.JL,s.On,s.sg,s.u],styles:['@charset "UTF-8";.shadow-custom[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040}th[_ngcontent-%COMP%]{background-color:var(--secondary-dark-gray);color:#fff}a[_ngcontent-%COMP%]{text-decoration:none;color:var(--secondary-color)}a[_ngcontent-%COMP%]:hover   .fa[_ngcontent-%COMP%]{color:var(--secondary-dark-gray)}.fa[_ngcontent-%COMP%]{color:#d6d6d6}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px;color:var(--secondary-light-gray)}.actions-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;gap:1rem}.button-group[_ngcontent-%COMP%]{display:flex}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;margin:0;padding:0;border-radius:0}.btn.shadowed[_ngcontent-%COMP%]{box-shadow:#8383a840 0 30px 60px -12px inset,#6262624d 0 18px 36px -18px inset}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{border-top-left-radius:4px;border-bottom-left-radius:4px}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{border-top-right-radius:4px;border-bottom-right-radius:4px}.button-group[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#fff}.btn-light-mine[_ngcontent-%COMP%]{color:gray;background-color:#fff;border:none}.rounded-sup[_ngcontent-%COMP%]{border-top-left-radius:7px;border-top-right-radius:7px}.custom-placeholder[_ngcontent-%COMP%]::placeholder{color:#cacaca;font-style:italic}.bg-secondary-color[_ngcontent-%COMP%]{background-color:#dc1b25d7}']}),r})(),ye=(()=>{class r{constructor(t){this.asignacionService=t,this.url=c.N.urlAPI+"asignatura/listAsignatura",this.isLoading=!1,this.listDepartamento={content:[],pageable:{offset:0,paged:!0,pageNumber:0,pageSize:0,sort:{empty:!0,sorted:!0,unsorted:!0},unpaged:!0},empty:!0,first:!0,last:!0,number:0,numberOfElements:0,size:0,sort:{empty:!0,sorted:!0,unsorted:!0},totalElements:0,totalPages:0}}getPages(t=0,n=10){return this.isLoading=!0,this.asignacionService.get(this.url,{params:{page:t.toString(),size:n.toString()}}).subscribe(o=>{this.listDepartamento=o,this.isLoading=!1})}getPagesF(t=0,n=10,o){return this.isLoading=!0,this.asignacionService.get(this.url,{params:{page:t.toString(),size:n.toString()}}).subscribe(i=>{this.listDepartamento=""===o?i:{...i,content:i.content.filter(l=>l.codigo.includes(o))},this.isLoading=!1})}saveAsignatura(t){return this.asignacionService.post(`${c.N.urlAPI}asignatura/create`,t).pipe((0,p.K)(n=>(0,u._)(409===n.status||400===n.status?n.error.mensaje:"Ocurri\xf3 un error en la solicitud.")))}updateAsignatura(t,n){return this.asignacionService.put(`${c.N.urlAPI}asignatura/update/`+n,t).pipe((0,p.K)(o=>(0,u._)(409===o.status||400===o.status?o.error.mensaje:"Ocurri\xf3 un error en la solicitud.")))}getAsignaturabyId(t){return this.asignacionService.get(`${c.N.urlAPI}asignatura/getAsignaturaById/`+t)}deleteAsignatura(t){return this.asignacionService.delete(`${c.N.urlAPI}asignatura/delete/`+t).pipe((0,p.K)(n=>(0,u._)(409===n.status||400===n.status?n.error.mensaje:"Ocurri\xf3 un error en la solicitud.")))}asignaturaExistBloque(t){return this.asignacionService.get(`${c.N.urlAPI}asignatura/asignaturaBloque/`+t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(f.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const De=["modalAsignatura"];function qe(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"div",30)(1,"strong"),e._uU(2,"Instrucciones para la gesti\xf3n de Asignaturas:"),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"small"),e._uU(5,'* Para agregar una nueva Asignatura haz click en "'),e.TgZ(6,"strong"),e._uU(7,"+ Registrar Nueva Asignatura"),e.qZA(),e._uU(8,'".'),e.qZA(),e._UZ(9,"br"),e.TgZ(10,"small"),e._uU(11,'* Para editar una Asignatura haz click en "'),e.TgZ(12,"strong"),e._UZ(13,"i",31),e.qZA(),e._uU(14,'".'),e.qZA(),e._UZ(15,"br"),e.TgZ(16,"small"),e._uU(17,'* Para eliminar una Asignatura haz click en "'),e.TgZ(18,"strong"),e._UZ(19,"i",32),e.qZA(),e._uU(20,'".'),e.qZA(),e._UZ(21,"br"),e.TgZ(22,"button",33),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.alternHelp())}),e.qZA()()}}function Ue(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.openModalAsignatura(0))}),e._uU(1," + Registrar nueva Asignatura "),e.qZA()}}function Pe(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"a",37),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,i=e.oxw();return e.KtG(i.editarAsignatura(o.id))})("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.openModalAsignatura(1))}),e._UZ(1,"i",31),e.qZA()}}function Me(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"a",37),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,i=e.oxw();return e.KtG(i.eliminar(o.id))}),e._UZ(1,"i",38),e.qZA()}}function ke(r,a){if(1&r&&(e.ynx(0),e.TgZ(1,"tr",22)(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td")(9,"div",35),e.YNc(10,Pe,2,0,"a",36),e.YNc(11,Me,2,0,"a",36),e.qZA()()(),e.BQk()),2&r){const t=a.$implicit,n=a.index,o=e.oxw();e.xp6(3),e.Oqu(n+1),e.xp6(2),e.Oqu(t.nombre),e.xp6(2),e.Oqu(t.uv),e.xp6(3),e.Q6J("ngIf",o.isAdmin||o.isEditar),e.xp6(1),e.Q6J("ngIf",o.isAdmin||o.isEliminar)}}function Ie(r,a){if(1&r&&(e.TgZ(0,"tr")(1,"td",39),e._uU(2),e.qZA()()),2&r){const t=e.oxw();e.xp6(2),e.hij(" ",t.isLoading?"Cargando...":"No se encontraron resultados"," ")}}function Ne(r,a){1&r&&(e.TgZ(0,"div",61),e._uU(1," Solo se permiten letras, n\xfameros y guiones. Todo debe estar unido y sin espacios. Con un m\xe1ximo de 15 caracteres. "),e.qZA())}function Ee(r,a){1&r&&(e.TgZ(0,"div",61),e._uU(1,"El C\xf3digo es obligatorio."),e.qZA())}function Oe(r,a){1&r&&(e.TgZ(0,"div",61),e._uU(1," Solo se permiten letras y espacios. Con un m\xe1ximo de 100 caracteres. "),e.qZA())}function Fe(r,a){1&r&&(e.TgZ(0,"div",61),e._uU(1,"El nombre es obligatorio."),e.qZA())}function Je(r,a){1&r&&(e.TgZ(0,"div",61),e._uU(1," Solo se permiten lde (1 a 10) "),e.qZA())}function Ye(r,a){1&r&&(e.TgZ(0,"div",61),e._uU(1,"La UV son obligatorias."),e.qZA())}function ze(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"div",40)(1,"div",41)(2,"div",42)(3,"div",43)(4,"strong"),e._uU(5),e.qZA()()()(),e.TgZ(6,"button",44),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.close(""))}),e.qZA()(),e.TgZ(7,"div",45)(8,"div",46)(9,"small"),e._uU(10,"* Todos los campos son obligatorios."),e.qZA(),e._UZ(11,"button",47),e.qZA(),e.TgZ(12,"form",48),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.submitForm())}),e.TgZ(13,"div",49)(14,"div",50)(15,"div",51)(16,"div",49)(17,"label",52),e._uU(18,"C\xf3digo:"),e.qZA(),e._UZ(19,"input",53),e.YNc(20,Ne,2,0,"div",54),e.YNc(21,Ee,2,0,"div",54),e.qZA()(),e.TgZ(22,"div",51)(23,"div",49)(24,"label",52),e._uU(25,"Nombre:"),e.qZA(),e._UZ(26,"input",55),e.YNc(27,Oe,2,0,"div",54),e.YNc(28,Fe,2,0,"div",54),e.qZA()(),e.TgZ(29,"div",56)(30,"div",49)(31,"label",52),e._uU(32,"*UV:"),e.qZA(),e._UZ(33,"input",57),e.YNc(34,Je,2,0,"div",54),e.YNc(35,Ye,2,0,"div",54),e.qZA()()(),e._UZ(36,"div",50)(37,"br"),e.TgZ(38,"div",58)(39,"button",59),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.close("Volver"))}),e._uU(40," Volver "),e.qZA(),e.TgZ(41,"button",60),e._uU(42),e.qZA()()()()()}if(2&r){const t=e.oxw();let n,o,i;e.xp6(5),e.Oqu(t.nombremodal),e.xp6(7),e.Q6J("formGroup",t.formularioA),e.xp6(8),e.Q6J("ngIf",null==(n=t.formularioA.get("codigo"))?null:n.hasError("pattern")),e.xp6(1),e.Q6J("ngIf",t.isInvalid("codigo")),e.xp6(6),e.Q6J("ngIf",null==(o=t.formularioA.get("nombre"))?null:o.hasError("pattern")),e.xp6(1),e.Q6J("ngIf",t.isInvalid("nombre")),e.xp6(6),e.Q6J("ngIf",null==(i=t.formularioA.get("uv"))?null:i.hasError("pattern")),e.xp6(1),e.Q6J("ngIf",t.isInvalid("uv")),e.xp6(7),e.hij(" ",t.nombreButtonModal," ")}}let Qe=(()=>{class r{constructor(t,n,o,i,l){this.asignaturaService=t,this.fA=n,this.modalService=o,this.sweetService=i,this.tokenService=l,this.currentPage=1,this.showHelp=!0,this.idunico="",this.searchText="",this.errores={},this.nombremodal="",this.nombreButtonModal="",this.isCrear=!1,this.isEditar=!1,this.isEliminar=!1,this.isAdmin=!1,this.formularioA=this.fA.group({codigo:["",[s.kI.required,s.kI.pattern(/^[a-zA-Z\xf1\xd10-9\-]{1,15}$/)]],nombre:["",[s.kI.required,s.kI.pattern(/^[\p{L}\s\xf1\xd1.0-9]{1,100}$/u)]],uv:["",[s.kI.required,s.kI.pattern(/^(?:[1-9]|10)$/)]]})}alternHelp(){this.showHelp=!this.showHelp}ngOnInit(){this.getPages(),this.isAdmin=this.tokenService.isSuperAdmin(),this.isCrear=this.tokenService.isPermisos("ASIGNATURA_","CREAR"),this.isEditar=this.tokenService.isPermisos("ASIGNATURA_","EDITAR"),this.isEliminar=this.tokenService.isPermisos("ASIGNATURA_","ELIMINAR")}getPages(){this.asignaturaService.getPages()}get asignaturas(){return this.asignaturaService.listDepartamento}get isLoading(){return this.asignaturaService.isLoading}pageChange(t){this.asignaturaService.getPages(t-1)}submitForm(){this.formularioA.valid?"CREAR"==this.nombreButtonModal?(this.saveAsignatura={codigoUnico:this.formularioA.value.codigo,nombre:this.formularioA.value.nombre,uv:this.formularioA.value.uv},this.asignaturaService.saveAsignatura(this.saveAsignatura).subscribe(t=>{this.modalService.dismissAll(),this.getPages(),this.sweetService.showSweetSuccess(t.mensaje)},t=>{this.sweetService.showSweetError(t),this.getPages()})):(this.saveAsignatura={codigoUnico:this.formularioA.value.codigo,nombre:this.formularioA.value.nombre,uv:this.formularioA.value.uv},this.bloqueasignatura&&this.saveAsignatura.nombre!=this.nombreAsignatura?this.sweetService.showSweetWarning("Aviso","\xbfEsta asignatura ya se encuentra en un bloque; cambiar su nombre podria crear una confusion en los horarios a crear; seguro de continuar?").then(t=>{t&&this.asignaturaService.updateAsignatura(this.saveAsignatura,this.idunico).subscribe(n=>{this.modalService.dismissAll(),this.getPages(),this.sweetService.showSweetSuccess(n.mensaje)},n=>{this.sweetService.showSweetError(n),this.getPages()})}):this.asignaturaService.updateAsignatura(this.saveAsignatura,this.idunico).subscribe(t=>{this.modalService.dismissAll(),this.getPages(),this.sweetService.showSweetSuccess(t.mensaje)},t=>{this.sweetService.showSweetError(t),this.modalService.dismissAll(),this.getPages()})):this.formularioA.markAllAsTouched()}asignaturaExist(t){this.asignaturaService.asignaturaExistBloque(t).subscribe(n=>{this.bloqueasignatura=n},n=>{this.sweetService.showSweetError(n)})}function(){return!0}editarAsignatura(t){this.idunico=t,this.setAsignautura(t),this.asignaturaExist(t)}setAsignautura(t){this.asignaturaService.getAsignaturabyId(t).subscribe(n=>{this.nombreAsignatura=n.nombre,this.formularioA.setValue({codigo:n.codigo,nombre:n.nombre,uv:n.uv})})}eliminar(t){this.sweetService.showSweetWarning("AVISO","\xbfEliminar este Docente?").then(n=>{n&&this.asignaturaService.deleteAsignatura(t).subscribe(o=>{this.sweetService.showSweetSuccess(o.mensaje),this.getPages()},o=>{this.sweetService.showSweetError(o)})})}onSearch(){this.asignaturaService.getPagesF(0,10,this.searchText)}observar(){0===this.asignaturas.content.length&&this.getPages()}isInvalid(t){const n=this.formularioA.get(t);if(this.errores={},n&&n.touched&&n.invalid){const o={required:"Este campo es obligatorio."};for(const i in n.errors)Object.prototype.hasOwnProperty.call(o,i)&&(this.errores[t]=o[i]);return!0}return!1}openModalAsignatura(t){this.formularioA.reset(),0!=t&&(this.nombremodal="Editar Asignatura",this.nombreButtonModal="EDITAR"),0==t&&(this.nombremodal="Crear Nueva Asignatura",this.nombreButtonModal="CREAR"),this.modalRef=this.modalService.open(this.modalAsignatura,{centered:!0,size:"lg"})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(ye),e.Y36(s.qu),e.Y36(m.FF),e.Y36(b.d),e.Y36(A.B))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-asignatura"]],viewQuery:function(t,n){if(1&t&&e.Gf(De,5),2&t){let o;e.iGM(o=e.CRH())&&(n.modalAsignatura=o.first)}},decls:44,vars:8,consts:[["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/"],["aria-current","page",1,"breadcrumb-item","active"],["class","alert alert-warning alert-dismissible fade show py-2 mb-3 mx-0 on-hover-op-65","role","alert",4,"ngIf"],[1,"card","bg-white","text-secondary","w-100","shadow-custom","mb-5"],[1,"card-header","bg-white","d-flex","justify-content-between","align-items-center"],[1,"d-flex","secondary-text","ps-2"],[1,"fa","fa-question-circle"],[1,"bi","bi-question-circle",2,"cursor","pointer",3,"click"],[1,"card-body"],[1,"row","px-4"],[1,"col-md-3","mb-3","mt-2"],[1,"d-flex","custom-placeholder"],["type","search",1,"form-control","square-border",3,"ngModel","ngModelChange","keyup.enter"],[1,"col-md-6"],[1,"col-md-3","mb-3","pt-2","mt-2"],["type","button","class","btn btn-danger shadow-primary mt-3 w-100 shadow-red",3,"click",4,"ngIf"],[1,"card","shadow"],[1,"table-responsive"],[1,"table"],[1,"text-center"],["sortable","#"],["sortable","titulo"],["sortable","acciones",1,"rounded-r"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"d-flex","justify-content-end","p-2",3,"pageSize","collectionSize","maxSize","pageChange","page"],["modalAsignatura",""],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show","py-2","mb-3","mx-0","on-hover-op-65"],[1,"bi","bi-pencil"],[1,"bi","bi-trash3-fill"],["type","button",1,"btn-close","py-3",3,"click"],["type","button",1,"btn","btn-danger","shadow-primary","mt-3","w-100","shadow-red",3,"click"],[1,"actions-container","d-flex","justify-content-center"],["style","cursor: pointer",3,"click",4,"ngIf"],[2,"cursor","pointer",3,"click"],[1,"bi","bi-trash"],["colspan","6",1,"text-center"],[1,"modal-header","bg-secondary-color","text-white","rounded-sup","card-header","shadow-sm","py-1"],[1,"modal-title"],[1,"d-flex","bd-highlight"],[1,"p-2","w-100","bd-highlight"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show","py-2","mb-0","mx-3"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close","py-2"],[1,"px-4","py-2",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"row"],[1,"col-12","col-sm-12","pt-2"],["for","titulo",1,"text-secondary"],["type","text","id","codigo","name","codigo","placeholder","Codigo.","formControlName","codigo",1,"form-control","rounded-3","shadow-sm","custom-placeholder"],["class","text-danger",4,"ngIf"],["type","text","id","nombre","name","nombre","placeholder","Nombre Completo.","autocomplete","off","formControlName","nombre",1,"form-control","rounded-3","shadow-sm","custom-placeholder"],[1,"col-12","col-sm-3","pt-2"],["type","number","id","uv","step","1","min","1","max","10","name","uv","placeholder","uv.","autocomplete","off","formControlName","uv",1,"form-control","rounded-3","shadow-sm","custom-placeholder"],[1,"modal-footer","justify-content-between","px-0"],["type","button",1,"btn","btn-outline-secondary","shadow-sm","w-25","m-0",3,"click"],["type","submit",1,"btn","btn-danger","shadow-primary","btn-block","w-25","m-0"],[1,"text-danger"]],template:function(t,n){1&t&&(e.TgZ(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),e._uU(4,"Home"),e.qZA()(),e.TgZ(5,"li",4),e._uU(6,"Asignatura"),e.qZA()()(),e.YNc(7,qe,23,0,"div",5),e.TgZ(8,"div",6)(9,"div",7)(10,"span",8),e._uU(11,"Asignatura"),e.qZA(),e._UZ(12,"i",9),e.TgZ(13,"i",10),e.NdJ("click",function(){return n.alternHelp()}),e.qZA()(),e.TgZ(14,"div",11)(15,"span",8),e._uU(16,"Filtrar tabla por:"),e.qZA(),e.TgZ(17,"div",12)(18,"div",13)(19,"label",14),e._uU(20,"C\xf3digo Asignatura:"),e.qZA(),e.TgZ(21,"input",15),e.NdJ("ngModelChange",function(i){return n.searchText=i})("keyup.enter",function(){return n.onSearch()}),e.qZA()(),e._UZ(22,"div",16),e.TgZ(23,"div",17),e.YNc(24,Ue,2,0,"button",18),e.qZA()()()(),e.TgZ(25,"div",19)(26,"div",20)(27,"table",21)(28,"thead")(29,"tr",22)(30,"th",23),e._uU(31,"#"),e.qZA(),e.TgZ(32,"th",24),e._uU(33,"Asignatura"),e.qZA(),e.TgZ(34,"th",24),e._uU(35,"UV"),e.qZA(),e.TgZ(36,"th",25),e._uU(37,"Acciones"),e.qZA()()(),e.TgZ(38,"tbody"),e.YNc(39,ke,12,5,"ng-container",26),e.YNc(40,Ie,3,1,"tr",27),e.qZA()()(),e.TgZ(41,"ngb-pagination",28),e.NdJ("pageChange",function(i){return n.pageChange(i)})("page",function(){return n.currentPage}),e.qZA(),e.YNc(42,ze,43,9,"ng-template",null,29,e.W1O),e.qZA()),2&t&&(e.xp6(7),e.Q6J("ngIf",!n.showHelp),e.xp6(14),e.Q6J("ngModel",n.searchText),e.xp6(3),e.Q6J("ngIf",n.isCrear||n.isAdmin),e.xp6(15),e.Q6J("ngForOf",n.asignaturas.content),e.xp6(1),e.Q6J("ngIf",0===n.asignaturas.content.length),e.xp6(1),e.Q6J("pageSize",n.asignaturas.pageable.pageSize)("collectionSize",n.asignaturas.totalElements)("maxSize",5))},dependencies:[g.sg,g.O5,_.yS,m.N9,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.qQ,s.Fd,s.On,s.sg,s.u],styles:['@charset "UTF-8";.shadow-custom[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040}th[_ngcontent-%COMP%]{background-color:var(--secondary-dark-gray);color:#fff}a[_ngcontent-%COMP%]{text-decoration:none;color:var(--secondary-color)}a[_ngcontent-%COMP%]:hover   .fa[_ngcontent-%COMP%]{color:var(--secondary-dark-gray)}.fa[_ngcontent-%COMP%]{color:#d6d6d6}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px;color:var(--secondary-light-gray)}.actions-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;gap:1rem}.button-group[_ngcontent-%COMP%]{display:flex}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;margin:0;padding:0;border-radius:0}.btn.shadowed[_ngcontent-%COMP%]{box-shadow:#8383a840 0 30px 60px -12px inset,#6262624d 0 18px 36px -18px inset}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{border-top-left-radius:4px;border-bottom-left-radius:4px}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{border-top-right-radius:4px;border-bottom-right-radius:4px}.button-group[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#fff}.btn-light-mine[_ngcontent-%COMP%]{color:gray;background-color:#fff;border:none}.rounded-sup[_ngcontent-%COMP%]{border-top-left-radius:7px;border-top-right-radius:7px}.custom-placeholder[_ngcontent-%COMP%]::placeholder{color:#cacaca;font-style:italic}.bg-secondary-color[_ngcontent-%COMP%]{background-color:#dc1b25d7}']}),r})(),je=(()=>{class r{constructor(t){this.servicioHttp=t,this.url=c.N.urlAPI+"asignaturaDocente/docenteAsignaturas/",this.isLoading=!1,this.listAsignaturaDocente={content:[],pageable:{offset:0,paged:!0,pageNumber:0,pageSize:0,sort:{empty:!0,sorted:!0,unsorted:!0},unpaged:!0},empty:!0,first:!0,last:!0,number:0,numberOfElements:0,size:0,sort:{empty:!0,sorted:!0,unsorted:!0},totalElements:0,totalPages:0}}getPages(t,n=0,o=10){return this.isLoading=!0,this.servicioHttp.get(this.url+t,{params:{page:n.toString(),size:o.toString()}}).subscribe(i=>{this.listAsignaturaDocente=i,this.isLoading=!1})}getPagesF(t,n=0,o=10,i){return this.isLoading=!0,this.servicioHttp.get(this.url+t,{params:{page:n.toString(),size:o.toString()}}).subscribe(l=>{this.listAsignaturaDocente=""===i?l:{...l,content:l.content.filter(h=>h.asignatura.codigo.includes(i))},this.isLoading=!1})}docenteAsignaturaSave(t){return this.servicioHttp.post(`${c.N.urlAPI}asignaturaDocente/create`,t)}docenteAsignaturaUpdate(t,n){return this.servicioHttp.put(`${c.N.urlAPI}asignaturaDocente/update/`+n,t)}asignauras(t){return this.servicioHttp.get(`${c.N.urlAPI}asignaturaDocente/asignaturaDocenteNoAsignadas/`+t)}docenteAsignaturaUpdateState(t){return this.servicioHttp.delete(`${c.N.urlAPI}asignaturaDocente/delete/`+t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(f.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Ge=["modalAsignaturaDocente"];function Re(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"div",31)(1,"strong"),e._uU(2,"Instrucciones para la gesti\xf3n de Asignaturas a Docente:"),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"small"),e._uU(5,'* Para agregar una nueva Asignatura a docente haz click en "'),e.TgZ(6,"strong"),e._uU(7,"+ Registrar Asignatura"),e.qZA(),e._uU(8,'".'),e.qZA(),e._UZ(9,"br"),e.TgZ(10,"small"),e._uU(11,'* Para eliminar una Asignatura de Docente haz click en "'),e.TgZ(12,"strong"),e._UZ(13,"i",32),e.qZA(),e._uU(14,'".'),e.qZA(),e._UZ(15,"br"),e.TgZ(16,"button",33),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.alternHelp())}),e.qZA()()}}function Le(r,a){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr",23)(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td")(9,"div",34)(10,"a",35)(11,"i",36),e.NdJ("click",function(){const i=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.cambiarEstado(i.id))}),e.qZA()()()()(),e.BQk()}if(2&r){const t=a.$implicit,n=a.index;e.xp6(3),e.Oqu(n+1),e.xp6(2),e.Oqu(t.asignatura.codigo),e.xp6(2),e.Oqu(t.asignatura.nombre)}}function $e(r,a){if(1&r&&(e.TgZ(0,"tr")(1,"td",37),e._uU(2),e.qZA()()),2&r){const t=e.oxw();e.xp6(2),e.hij(" ",t.isLoading?"Cargando...":"No se encontraron resultados"," ")}}function Be(r,a){if(1&r&&(e.TgZ(0,"ng-option",57),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.Q6J("value",t.idAsignatura),e.xp6(1),e.Oqu(t.nombre)}}function Ke(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"div",38)(1,"div",39)(2,"div",40)(3,"div",41)(4,"strong"),e._uU(5),e.qZA()()()(),e.TgZ(6,"button",42),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.close(""))}),e.qZA()(),e.TgZ(7,"div",43)(8,"div",44)(9,"small"),e._uU(10,"* Todos los campos son obligatorios."),e.qZA(),e._UZ(11,"button",45),e.qZA(),e.TgZ(12,"form",46),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.submitForm())}),e.TgZ(13,"div",47)(14,"div",48)(15,"div",49)(16,"div",47)(17,"div")(18,"label",50),e._uU(19,"*Nombre Docente:"),e.qZA(),e._UZ(20,"input",51),e.qZA()()(),e.TgZ(21,"div",49)(22,"div",47)(23,"label",50),e._uU(24,"*Nombre Asignatura:"),e.qZA(),e.TgZ(25,"ng-select",52),e.YNc(26,Be,2,2,"ng-option",53),e.qZA()()()(),e._UZ(27,"div",48)(28,"br"),e.TgZ(29,"div",54)(30,"button",55),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.close("Volver"))}),e._uU(31," Volver "),e.qZA(),e.TgZ(32,"button",56),e._uU(33),e.qZA()()()()()}if(2&r){const t=e.oxw();e.xp6(5),e.Oqu(t.nombremodal),e.xp6(7),e.Q6J("formGroup",t.formGroupAD),e.xp6(8),e.Q6J("disabled",t.estadoInput)("readonly",!0),e.xp6(6),e.Q6J("ngForOf",t.asignaturas),e.xp6(7),e.hij(" ",t.nombreButtonModal," ")}}let We=(()=>{class r{constructor(t,n,o,i,l,h,v){this.route=t,this.sharedDataService=n,this.serviceAD=o,this.formBuildAD=i,this.modalService=l,this.router=h,this.sweetService=v,this.nombreButtonModal="",this.nombremodal="",this.id="",this.nombreDocente="",this.currentPage=1,this.idAsignaturaDocente="",this.errores={},this.showHelp=!0,this.searchText="",this.estadoInput=!0,this.formGroupAD=this.formBuildAD.group({Idasignatura:["",[s.kI.required]],Iddocente:["",[s.kI.required]]})}setformGroupAD(){this.formGroupAD.setValue({Iddocente:this.nombreDocente,Idasignatura:""})}ngOnInit(){this.id=this.sharedDataService.getId(),this.nombreDocente=this.sharedDataService.getNombre(),null!=this.id&&""!=this.id&&this.getpages(),""===this.id&&this.router.navigate(["/mantenimiento/asignaturaDocente"])}cambiarEstado(t){this.sweetService.showSweetWarning("AVISO","\xbfEliminar esta asignatura del docente?").then(n=>{n&&this.serviceAD.docenteAsignaturaUpdateState(t).subscribe(o=>{this.sweetService.showSweetSuccess(o.mensaje),this.getpages()},o=>{this.sweetService.showSweetError(o.mensaje)})})}getpages(){this.serviceAD.getPages(this.id)}get asignaturasD(){return this.serviceAD.listAsignaturaDocente}setasignatura(){this.serviceAD.asignauras(this.id).subscribe(t=>{this.asignaturas=t})}setAsignaturas(){}get isLoading(){return this.serviceAD.isLoading}pageChange(t){this.serviceAD.getPages(this.id,t-1,5)}submitForm(){this.formGroupAD.valid?(this.AsignaturaDocenteSave={Idasignatura:this.formGroupAD.value.Idasignatura,Iddocente:this.id},"CREAR"===this.nombreButtonModal?this.serviceAD.docenteAsignaturaSave(this.AsignaturaDocenteSave).subscribe(t=>{this.getpages(),this.sweetService.showSweetSuccess(t.mensaje),this.modalService.dismissAll()}):this.serviceAD.docenteAsignaturaUpdate(this.AsignaturaDocenteSave,this.idAsignaturaDocente).subscribe(()=>{this.getpages(),this.modalService.dismissAll()})):this.formGroupAD.markAllAsTouched()}isInvalid(t){const n=this.formGroupAD.get(t);if(this.errores={},n&&n.touched&&n.invalid){const o={required:"Este campo es obligatorio."};for(const i in n.errors)Object.prototype.hasOwnProperty.call(o,i)&&(this.errores[t]=o[i]);return!0}return!1}editar(t){this.idAsignaturaDocente=t}openModalAsignaturaDocente(t){this.formGroupAD.reset(),this.setasignatura(),0!=t&&(this.nombremodal="Editar Asignatura",this.nombreButtonModal="EDITAR"),0==t&&(this.nombremodal="Asignar Asignatura",this.nombreButtonModal="CREAR"),this.modalRef=this.modalService.open(this.modalAsignaturaDocente,{centered:!0,size:"lg"})}alternHelp(){this.showHelp=!this.showHelp}onSearch(){this.serviceAD.getPagesF(this.id,0,10,this.searchText)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(_.gz),e.Y36(x),e.Y36(je),e.Y36(s.qu),e.Y36(m.FF),e.Y36(_.F0),e.Y36(b.d))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-popcon"]],viewQuery:function(t,n){if(1&t&&e.Gf(Ge,5),2&t){let o;e.iGM(o=e.CRH())&&(n.modalAsignaturaDocente=o.first)}},decls:48,vars:7,consts:[["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/"],["aria-current","page",1,"breadcrumb-item","active"],["routerLink","/mantenimiento/asignaturaDocente"],["class","alert alert-warning alert-dismissible fade show py-2 mb-3 mx-0 on-hover-op-65","role","alert",4,"ngIf"],[1,"card","bg-white","text-secondary","w-100","shadow-custom","mb-5"],[1,"card-header","bg-white","d-flex","justify-content-between","align-items-center"],[1,"d-flex","secondary-text","ps-2"],[1,"fa","fa-question-circle"],[1,"bi","bi-question-circle",2,"cursor","pointer",3,"click"],[1,"card-body"],[1,"row","px-4"],[1,"col-md-3","mb-3","mt-2"],[1,"d-flex","custom-placeholder"],["type","search",1,"form-control","square-border",3,"ngModel","ngModelChange","keyup.enter"],[1,"col-md-6"],[1,"col-md-3","mb-3","pt-2","mt-2"],["type","button",1,"btn","btn-danger","shadow-primary","mt-3","w-100","shadow-red",3,"click"],[1,"card","shadow"],[1,"table-responsive"],[1,"table"],[1,"text-center"],["sortable","#"],["sortable","titulo"],["sortable","acciones",1,"rounded-r"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"d-flex","justify-content-end","p-2",3,"pageSize","collectionSize","maxSize","pageChange","page"],["modalAsignaturaDocente",""],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show","py-2","mb-3","mx-0","on-hover-op-65"],[1,"bi","bi-trash3-fill"],["type","button",1,"btn-close","py-3",3,"click"],[1,"actions-container","d-flex","justify-content-center"],[2,"cursor","pointer"],[1,"bi","bi-trash",3,"click"],["colspan","6",1,"text-center"],[1,"modal-header","bg-secondary-color","text-white","rounded-sup","card-header","shadow-sm","py-1"],[1,"modal-title"],[1,"d-flex","bd-highlight"],[1,"p-2","w-100","bd-highlight"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show","py-2","mb-0","mx-3"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close","py-2"],[1,"px-4","py-2",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"row"],[1,"col-12","col-sm-12","pt-2"],["for","titulo",1,"text-secondary"],["type","text","id","Iddocente","name","Iddocente","placeholder","","formControlName","Iddocente",1,"form-control","rounded-3","shadow-sm","custom-placeholder",3,"disabled","readonly"],["name","Idasignatura","placeholder","Puede seleccionar m\xe1s de una...","id","Idasignatura","formControlName","Idasignatura",1,"shadow-sm","rounded-3","custom-placeholder"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer","justify-content-between","px-0"],["type","button",1,"btn","btn-outline-secondary","shadow-sm","w-25","m-0",3,"click"],["type","submit",1,"btn","btn-danger","shadow-primary","btn-block","w-25","m-0"],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),e._uU(4,"Home"),e.qZA()(),e.TgZ(5,"li",4)(6,"a",5),e._uU(7," Docente"),e.qZA()(),e.TgZ(8,"li",4),e._uU(9,"Asignaturas"),e.qZA()()(),e.YNc(10,Re,17,0,"div",6),e.TgZ(11,"div",7)(12,"div",8)(13,"span",9),e._uU(14,"Docentes Asignaturas"),e.qZA(),e._UZ(15,"i",10),e.TgZ(16,"i",11),e.NdJ("click",function(){return n.alternHelp()}),e.qZA()(),e.TgZ(17,"div",12)(18,"span",9),e._uU(19,"Filtrar tabla por:"),e.qZA(),e.TgZ(20,"div",13)(21,"div",14)(22,"label",15),e._uU(23,"Codigo Asignatura:"),e.qZA(),e.TgZ(24,"input",16),e.NdJ("ngModelChange",function(i){return n.searchText=i})("keyup.enter",function(){return n.onSearch()}),e.qZA()(),e._UZ(25,"div",17),e.TgZ(26,"div",18)(27,"button",19),e.NdJ("click",function(){return n.openModalAsignaturaDocente(0)})("click",function(){return n.setformGroupAD()}),e._uU(28," + Registrar Asignatura "),e.qZA()()()()(),e.TgZ(29,"div",20)(30,"div",21)(31,"table",22)(32,"thead")(33,"tr",23)(34,"th",24),e._uU(35,"#"),e.qZA(),e.TgZ(36,"th",25),e._uU(37,"C\xf3digo Asignatura"),e.qZA(),e.TgZ(38,"th",25),e._uU(39,"Nombre Asignatura"),e.qZA(),e.TgZ(40,"th",26),e._uU(41,"Acciones"),e.qZA()()(),e.TgZ(42,"tbody"),e.YNc(43,Le,12,3,"ng-container",27),e.YNc(44,$e,3,1,"tr",28),e.qZA()()(),e.TgZ(45,"ngb-pagination",29),e.NdJ("pageChange",function(i){return n.pageChange(i)})("page",function(){return n.currentPage}),e.YNc(46,Ke,34,6,"ng-template",null,30,e.W1O),e.qZA()()),2&t&&(e.xp6(10),e.Q6J("ngIf",!n.showHelp),e.xp6(14),e.Q6J("ngModel",n.searchText),e.xp6(19),e.Q6J("ngForOf",n.asignaturasD.content),e.xp6(1),e.Q6J("ngIf",0===n.asignaturasD.content.length),e.xp6(1),e.Q6J("pageSize",n.asignaturasD.pageable.pageSize)("collectionSize",n.asignaturasD.totalElements)("maxSize",5))},dependencies:[g.sg,g.O5,_.yS,m.N9,s._Y,s.Fj,s.JJ,s.JL,s.On,s.sg,s.u,C.w9,C.jq],styles:['@charset "UTF-8";.shadow-custom[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040}th[_ngcontent-%COMP%]{background-color:var(--secondary-dark-gray);color:#fff}a[_ngcontent-%COMP%]{text-decoration:none;color:var(--secondary-color)}a[_ngcontent-%COMP%]:hover   .fa[_ngcontent-%COMP%]{color:var(--secondary-dark-gray)}.fa[_ngcontent-%COMP%]{color:#d6d6d6}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px;color:var(--secondary-light-gray)}.actions-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;gap:1rem}.button-group[_ngcontent-%COMP%]{display:flex}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;margin:0;padding:0;border-radius:0}.btn.shadowed[_ngcontent-%COMP%]{box-shadow:#8383a840 0 30px 60px -12px inset,#6262624d 0 18px 36px -18px inset}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{border-top-left-radius:4px;border-bottom-left-radius:4px}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{border-top-right-radius:4px;border-bottom-right-radius:4px}.button-group[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#fff}.btn-light-mine[_ngcontent-%COMP%]{color:gray;background-color:#fff;border:none}.rounded-sup[_ngcontent-%COMP%]{border-top-left-radius:7px;border-top-right-radius:7px}.custom-placeholder[_ngcontent-%COMP%]::placeholder{color:#cacaca;font-style:italic}.bg-secondary-color[_ngcontent-%COMP%]{background-color:#dc1b25d7}']}),r})(),Xe=(()=>{class r{constructor(t){this.asignacionService=t,this.url=c.N.urlAPI+"carrera/listCarrera",this.isLoading=!1,this.listDepartamento={content:[],pageable:{offset:0,paged:!0,pageNumber:0,pageSize:0,sort:{empty:!0,sorted:!0,unsorted:!0},unpaged:!0},empty:!0,first:!0,last:!0,number:0,numberOfElements:0,size:0,sort:{empty:!0,sorted:!0,unsorted:!0},totalElements:0,totalPages:0}}getPages(t=0,n=10){return this.isLoading=!0,this.asignacionService.get(this.url,{params:{page:t.toString(),size:n.toString()}}).subscribe(o=>{this.listDepartamento=o,this.isLoading=!1})}getPagesF(t=0,n=10,o){return this.isLoading=!0,this.asignacionService.get(this.url,{params:{page:t.toString(),size:n.toString()}}).subscribe(i=>{this.listDepartamento=""===o?i:{...i,content:i.content.filter(l=>l.codigo.includes(o))},this.isLoading=!1})}saveCarrera(t){return this.asignacionService.post(`${c.N.urlAPI}carrera/create`,t).pipe((0,p.K)(n=>(0,u._)(400===n.status?n.error.mensaje:"Ocurri\xf3 un error en la solicitud.")))}updateCarrera(t,n){return this.asignacionService.put(`${c.N.urlAPI}carrera/update/`+n,t).pipe((0,p.K)(o=>(0,u._)(400===o.status?o.error.mensaje:"Ocurri\xf3 un error en la solicitud.")))}getCarrerabyId(t){return this.asignacionService.get(`${c.N.urlAPI}carrera/getCarreraById/`+t)}deleteCarrera(t){return this.asignacionService.delete(`${c.N.urlAPI}carrera/delete/`+t).pipe((0,p.K)(n=>(0,u._)(400===n.status?n.error.mensaje:"Ocurri\xf3 un error en la solicitud.")))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(f.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const et=["modalCarrera"];function tt(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"div",30)(1,"strong"),e._uU(2,"Instrucciones para la gesti\xf3n de Carreras:"),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"small"),e._uU(5,'* Para agregar una nueva Carrera haz click en "'),e.TgZ(6,"strong"),e._uU(7,"+ Registrar Nueva Carrera"),e.qZA(),e._uU(8,'".'),e.qZA(),e._UZ(9,"br"),e.TgZ(10,"small"),e._uU(11,'* Para editar una Carrera haz click en "'),e.TgZ(12,"strong"),e._UZ(13,"i",31),e.qZA(),e._uU(14,'".'),e.qZA(),e._UZ(15,"br"),e.TgZ(16,"small"),e._uU(17,'* Para eliminar una Carrera haz click en "'),e.TgZ(18,"strong"),e._UZ(19,"i",32),e.qZA(),e._uU(20,'".'),e.qZA(),e._UZ(21,"br"),e.TgZ(22,"button",33),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.alternHelp())}),e.qZA()()}}function nt(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.openModalDepartamento(0))}),e._uU(1," + Registrar nuevo Carrera "),e.qZA()}}function ot(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"a",37),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,i=e.oxw();return e.KtG(i.editarCarrera(o.id))})("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.openModalDepartamento(1))}),e._UZ(1,"i",31),e.qZA()}}function rt(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"a",37),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,i=e.oxw();return e.KtG(i.eliminar(o.id))}),e._UZ(1,"i",38),e.qZA()}}function it(r,a){if(1&r&&(e.ynx(0),e.TgZ(1,"tr",22)(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td")(7,"div",35),e.YNc(8,ot,2,0,"a",36),e.YNc(9,rt,2,0,"a",36),e.qZA()()(),e.BQk()),2&r){const t=a.$implicit,n=a.index,o=e.oxw();e.xp6(3),e.Oqu(n+1),e.xp6(2),e.Oqu(t.nombre),e.xp6(3),e.Q6J("ngIf",o.isEditar||o.isAdmin),e.xp6(1),e.Q6J("ngIf",o.isEliminar||o.isAdmin)}}function at(r,a){if(1&r&&(e.TgZ(0,"tr")(1,"td",39),e._uU(2),e.qZA()()),2&r){const t=e.oxw();e.xp6(2),e.hij(" ",t.isLoading?"Cargando...":"No se encontraron resultados"," ")}}function st(r,a){1&r&&(e.TgZ(0,"div",59),e._uU(1," Solo se permiten letras, n\xfameros y guiones. Todo debe estar unido y sin espacios. Con un m\xe1ximo de 15 caracteres. "),e.qZA())}function ct(r,a){1&r&&(e.TgZ(0,"div",59),e._uU(1," Solo se permiten letras y espacios. Con un m\xe1ximo de 100 caracteres. "),e.qZA())}function lt(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"div",40)(1,"div",41)(2,"div",42)(3,"div",43)(4,"strong"),e._uU(5),e.qZA()()()(),e.TgZ(6,"button",44),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.close(""))}),e.qZA()(),e.TgZ(7,"div",45)(8,"div",46)(9,"small"),e._uU(10,"* Todos los campos son obligatorios."),e.qZA(),e._UZ(11,"button",47),e.qZA(),e.TgZ(12,"form",48),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.submitForm())}),e.TgZ(13,"div",49)(14,"div",50)(15,"div",51)(16,"div",49)(17,"div")(18,"label",52),e._uU(19,"C\xf3digo:"),e.qZA(),e._UZ(20,"input",53),e.qZA(),e.YNc(21,st,2,0,"div",54),e.qZA()(),e.TgZ(22,"div",51)(23,"div",49)(24,"label",52),e._uU(25,"Nombre:"),e.qZA(),e._UZ(26,"input",55),e.YNc(27,ct,2,0,"div",54),e.qZA()()(),e._UZ(28,"div",50)(29,"br"),e.TgZ(30,"div",56)(31,"button",57),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.close("Volver"))}),e._uU(32," Volver "),e.qZA(),e.TgZ(33,"button",58),e._uU(34),e.qZA()()()()()}if(2&r){const t=e.oxw();let n,o;e.xp6(5),e.Oqu(t.nombremodal),e.xp6(7),e.Q6J("formGroup",t.formularioC),e.xp6(9),e.Q6J("ngIf",null==(n=t.formularioC.get("codigo"))?null:n.hasError("pattern")),e.xp6(6),e.Q6J("ngIf",null==(o=t.formularioC.get("nombre"))?null:o.hasError("pattern")),e.xp6(7),e.hij(" ",t.nombreButtonModal," ")}}const dt=[{path:"aula",component:F,data:{titulo:"Aula"}},{path:"asignaturaDocente",component:de,data:{titulo:"Docente"}},{path:"departamento",component:we,data:{titulo:"Departamento"}},{path:"asignatura",component:Qe,data:{titulo:"Asignatura"}},{path:"carrera",component:(()=>{class r{constructor(t,n,o,i,l){this.carreraService=t,this.fD=n,this.modalService=o,this.sweetService=i,this.tokenService=l,this.currentPage=1,this.isCrear=!1,this.isEditar=!1,this.isEliminar=!1,this.isAdmin=!1,this.idunico="",this.searchText="",this.errores={},this.nombremodal="",this.nombreButtonModal="",this.showHelp=!0,this.formularioC=this.fD.group({codigo:["",[s.kI.required,s.kI.pattern(/^[a-zA-Z\xf1\xd10-9\-]{1,15}$/)]],nombre:["",[s.kI.required,s.kI.pattern(/^[\p{L}\s\xf1\xd1]{1,100}$/u)]]})}ngOnInit(){this.getPages(),this.isAdmin=this.tokenService.isSuperAdmin(),this.isCrear=this.tokenService.isPermisos("CARRERA_","CREAR"),this.isEditar=this.tokenService.isPermisos("CARRERA_","EDITAR"),this.isEliminar=this.tokenService.isPermisos("CARRERA_","ELIMINAR")}getPages(){this.carreraService.getPages()}get carreras(){return this.carreraService.listDepartamento}get isLoading(){return this.carreraService.isLoading}pageChange(t){this.carreraService.getPages(t-1)}submitForm(){this.formularioC.valid?"CREAR"==this.nombreButtonModal?(this.saveCarrera={codigo:this.formularioC.value.codigo,nombre:this.formularioC.value.nombre},this.carreraService.saveCarrera(this.saveCarrera).subscribe(t=>{this.modalService.dismissAll(),this.getPages(),this.sweetService.showSweetSuccess(t.mensaje)},t=>{this.sweetService.showSweetError(t),this.getPages()})):(this.saveCarrera={codigo:this.formularioC.value.codigo,nombre:this.formularioC.value.nombre},this.carreraService.updateCarrera(this.saveCarrera,this.idunico).subscribe(t=>{this.modalService.dismissAll(),this.getPages(),this.sweetService.showSweetSuccess(t.mensaje)},t=>{this.sweetService.showSweetError(t),this.getPages()})):this.formularioC.markAllAsTouched()}editarCarrera(t){this.idunico=t,this.setCarrera(t)}setCarrera(t){this.carreraService.getCarrerabyId(t).subscribe(n=>{this.formularioC.setValue({codigo:n.codigo,nombre:n.nombre})})}eliminar(t){this.sweetService.showSweetWarning("AVISO","\xbfEliminar este Docente?").then(n=>{n&&this.carreraService.deleteCarrera(t).subscribe(o=>{this.sweetService.showSweetSuccess(o.mensaje),this.getPages()},o=>{this.sweetService.showSweetError(o)})})}onSearch(){this.carreraService.getPagesF(0,10,this.searchText)}observar(){0===this.carreras.content.length&&this.getPages()}isInvalid(t){const n=this.formularioC.get(t);if(this.errores={},n&&n.touched&&n.invalid){const o={required:"Este campo es obligatorio."};for(const i in n.errors)Object.prototype.hasOwnProperty.call(o,i)&&(this.errores[t]=o[i]);return!0}return!1}openModalDepartamento(t){this.formularioC.reset(),0!=t&&(this.nombremodal="Editar Carrera",this.nombreButtonModal="EDITAR"),0==t&&(this.nombremodal="Crear Nuevo Carrera",this.nombreButtonModal="CREAR"),this.modalRef=this.modalService.open(this.modalCarrera,{centered:!0,size:"lg"})}alternHelp(){this.showHelp=!this.showHelp}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Xe),e.Y36(s.qu),e.Y36(m.FF),e.Y36(b.d),e.Y36(A.B))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-carrera"]],viewQuery:function(t,n){if(1&t&&e.Gf(et,5),2&t){let o;e.iGM(o=e.CRH())&&(n.modalCarrera=o.first)}},decls:42,vars:8,consts:[["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/"],["aria-current","page",1,"breadcrumb-item","active"],["class","alert alert-warning alert-dismissible fade show py-2 mb-3 mx-0 on-hover-op-65","role","alert",4,"ngIf"],[1,"card","bg-white","text-secondary","w-100","shadow-custom","mb-5"],[1,"card-header","bg-white","d-flex","justify-content-between","align-items-center"],[1,"d-flex","secondary-text","ps-2"],[1,"fa","fa-question-circle"],[1,"bi","bi-question-circle",2,"cursor","pointer",3,"click"],[1,"card-body"],[1,"row","px-4"],[1,"col-md-3","mb-3","mt-2"],[1,"d-flex","custom-placeholder"],["type","search",1,"form-control","square-border",3,"ngModel","ngModelChange","keyup.enter"],[1,"col-md-6"],[1,"col-md-3","mb-3","pt-2","mt-2"],["type","button","class","btn btn-danger shadow-primary mt-3 w-100 shadow-red",3,"click",4,"ngIf"],[1,"card","shadow"],[1,"table-responsive"],[1,"table"],[1,"text-center"],["sortable","#"],["sortable","titulo"],["sortable","acciones",1,"rounded-r"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"d-flex","justify-content-end","p-2",3,"pageSize","collectionSize","maxSize","pageChange","page"],["modalCarrera",""],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show","py-2","mb-3","mx-0","on-hover-op-65"],[1,"bi","bi-pencil"],[1,"bi","bi-trash3-fill"],["type","button",1,"btn-close","py-3",3,"click"],["type","button",1,"btn","btn-danger","shadow-primary","mt-3","w-100","shadow-red",3,"click"],[1,"actions-container","d-flex","justify-content-center"],["style","cursor: pointer",3,"click",4,"ngIf"],[2,"cursor","pointer",3,"click"],[1,"bi","bi-trash"],["colspan","6",1,"text-center"],[1,"modal-header","bg-secondary-color","text-white","rounded-sup","card-header","shadow-sm","py-1"],[1,"modal-title"],[1,"d-flex","bd-highlight"],[1,"p-2","w-100","bd-highlight"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show","py-2","mb-0","mx-3"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close","py-2"],[1,"px-4","py-2",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"row"],[1,"col-12","col-sm-12","pt-2"],["for","titulo",1,"text-secondary"],["type","text","id","codigo","name","codigo","placeholder","C\xf3digo.","formControlName","codigo",1,"form-control","rounded-3","shadow-sm","custom-placeholder"],["class","text-danger",4,"ngIf"],["type","text","id","nombre","name","nombre","placeholder","Nombre Completo.","autocomplete","off","formControlName","nombre",1,"form-control","rounded-3","shadow-sm","custom-placeholder"],[1,"modal-footer","justify-content-between","px-0"],["type","button",1,"btn","btn-outline-secondary","shadow-sm","w-25","m-0",3,"click"],["type","submit",1,"btn","btn-danger","shadow-primary","btn-block","w-25","m-0"],[1,"text-danger"]],template:function(t,n){1&t&&(e.TgZ(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),e._uU(4,"Home"),e.qZA()(),e.TgZ(5,"li",4),e._uU(6,"Carrera"),e.qZA()()(),e.YNc(7,tt,23,0,"div",5),e.TgZ(8,"div",6)(9,"div",7)(10,"span",8),e._uU(11,"Carrera"),e.qZA(),e._UZ(12,"i",9),e.TgZ(13,"i",10),e.NdJ("click",function(){return n.alternHelp()}),e.qZA()(),e.TgZ(14,"div",11)(15,"span",8),e._uU(16,"Filtrar tabla por:"),e.qZA(),e.TgZ(17,"div",12)(18,"div",13)(19,"label",14),e._uU(20,"C\xf3digo Carrera:"),e.qZA(),e.TgZ(21,"input",15),e.NdJ("ngModelChange",function(i){return n.searchText=i})("keyup.enter",function(){return n.onSearch()}),e.qZA()(),e._UZ(22,"div",16),e.TgZ(23,"div",17),e.YNc(24,nt,2,0,"button",18),e.qZA()()()(),e.TgZ(25,"div",19)(26,"div",20)(27,"table",21)(28,"thead")(29,"tr",22)(30,"th",23),e._uU(31,"#"),e.qZA(),e.TgZ(32,"th",24),e._uU(33,"Carrera"),e.qZA(),e.TgZ(34,"th",25),e._uU(35,"Acciones"),e.qZA()()(),e.TgZ(36,"tbody"),e.YNc(37,it,10,4,"ng-container",26),e.YNc(38,at,3,1,"tr",27),e.qZA()()(),e.TgZ(39,"ngb-pagination",28),e.NdJ("pageChange",function(i){return n.pageChange(i)})("page",function(){return n.currentPage}),e.YNc(40,lt,35,5,"ng-template",null,29,e.W1O),e.qZA()()),2&t&&(e.xp6(7),e.Q6J("ngIf",!n.showHelp),e.xp6(14),e.Q6J("ngModel",n.searchText),e.xp6(3),e.Q6J("ngIf",n.isCrear||n.isAdmin),e.xp6(13),e.Q6J("ngForOf",n.carreras.content),e.xp6(1),e.Q6J("ngIf",0===n.carreras.content.length),e.xp6(1),e.Q6J("pageSize",n.carreras.pageable.pageSize)("collectionSize",n.carreras.totalElements)("maxSize",5))},dependencies:[g.sg,g.O5,_.yS,m.N9,s._Y,s.Fj,s.JJ,s.JL,s.On,s.sg,s.u],styles:['@charset "UTF-8";.shadow-custom[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040}th[_ngcontent-%COMP%]{background-color:var(--secondary-dark-gray);color:#fff}a[_ngcontent-%COMP%]{text-decoration:none;color:var(--secondary-color)}a[_ngcontent-%COMP%]:hover   .fa[_ngcontent-%COMP%]{color:var(--secondary-dark-gray)}.fa[_ngcontent-%COMP%]{color:#d6d6d6}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px;color:var(--secondary-light-gray)}.actions-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;gap:1rem}.button-group[_ngcontent-%COMP%]{display:flex}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;margin:0;padding:0;border-radius:0}.btn.shadowed[_ngcontent-%COMP%]{box-shadow:#8383a840 0 30px 60px -12px inset,#6262624d 0 18px 36px -18px inset}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{border-top-left-radius:4px;border-bottom-left-radius:4px}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{border-top-right-radius:4px;border-bottom-right-radius:4px}.button-group[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#fff}.btn-light-mine[_ngcontent-%COMP%]{color:gray;background-color:#fff;border:none}.rounded-sup[_ngcontent-%COMP%]{border-top-left-radius:7px;border-top-right-radius:7px}.custom-placeholder[_ngcontent-%COMP%]::placeholder{color:#cacaca;font-style:italic}.bg-secondary-color[_ngcontent-%COMP%]{background-color:#dc1b25d7}']}),r})(),data:{titulo:"Carrera"}},{path:"docenteAsignatura",component:We,data:{titulo:"Asignaci\xf3n materia a docente"}}];let gt=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[_.Bz.forChild(dt),_.Bz]}),r})(),pt=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.ez,gt,m.jF,s.u5,s.UX,C.A0]}),r})()}}]);